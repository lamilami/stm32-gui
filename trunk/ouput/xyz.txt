; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--split_sections --debug -c --asm --interleave -o.\ouput\xyz.o --depend=.\ouput\xyz.d --cpu=Cortex-M3 --apcs=interwork -I.\Source\APP -I.\Source\FWLib\cm3 -I.\Source\FWLib\inc -I.\Source\BSP -I.\Source\FWLib -I.\Source\Startup -I.\Source\uCOS-II\Source -I.\Source\uCOS-II\uC-CPU -I.\Source\uCOS-II\uC-LIB -I.\Source\uCOS-II\Ports -I.\Source\uCGUI\Config -I.\Source\uCGUI\emWinDemo -I.\Source\uCGUI\LCDDriver -I.\Source\uCGUI\uCGUIDemo -I.\Source\uCGUI\LCDDriver\Touch -I.\Source\uCOS-II\Source -I.\Source\uCGUI\Core -I.\Source\uCGUI\WM -I.\Source\uCGUI\Widget -I.\Source\uCGUI\GUIDemo -I.\Source\SDHC\driver -I.\Source\SDHC\fatfs -I.\Source\gui_app -I.\Source\gui_app\pinyin -I.\Source\uCGUI\TouchCalibration -I.\Source\Mot -I.\Source\Net -I.\Source\STM32F10x_DSP_Lib\src\asm\arm -I.\Source\STM32F10x_DSP_Lib\inc -I..\..\..\STM32F4\STM32F4xx_DSP_StdPeriph_Lib_V1.0.1\Libraries\CMSIS\Lib\ARM -I..\..\..\STM32F4\STM32F4xx_DSP_StdPeriph_Lib_V1.0.1\Libraries\CMSIS\Include -I.\Source\Lib -ID:\Keil_ARM\ARM\INC -ID:\Keil_ARM\ARM\INC\ST\STM32F10x -D__MICROLIB -DSTM32F10X_XL -DUSE_STDPERIPH_DRIVER -DARM_MATH_CM3 --omf_browse=.\ouput\xyz.crf Source\gui_app\XYZ.c]
                          THUMB

                          AREA ||i.InitDialog||, CODE, READONLY, ALIGN=2

                  InitDialog PROC
;;;229    
;;;230    void InitDialog(WM_MESSAGE * pMsg)
000000  b538              PUSH     {r3-r5,lr}
;;;231    {
;;;232        WM_HWIN hWin = pMsg->hWin;
000002  f9b04004          LDRSH    r4,[r0,#4]
;;;233        //
;;;234        //FRAMEWIN
;;;235        //
;;;236        FRAMEWIN_SetTitleVis(hWin,0);
000006  2100              MOVS     r1,#0
000008  4620              MOV      r0,r4
00000a  f7fffffe          BL       FRAMEWIN_SetTitleVis
;;;237        //
;;;238        //GUI_ID_PARS_BUTTON
;;;239        //
;;;240        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_PARS_BUTTON),&GUI_FontHZ_SongTi_16);
00000e  f6400101          MOV      r1,#0x801
000012  4620              MOV      r0,r4
000014  f7fffffe          BL       WM_GetDialogItem
000018  493d              LDR      r1,|L1.272|
00001a  f7fffffe          BL       BUTTON_SetFont
;;;241        //
;;;242        //GUI_ID_START_BUTTON
;;;243        //
;;;244        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_START_BUTTON),&GUI_FontHZ_SongTi_16);
00001e  f6400102          MOV      r1,#0x802
000022  4620              MOV      r0,r4
000024  f7fffffe          BL       WM_GetDialogItem
000028  4939              LDR      r1,|L1.272|
00002a  f7fffffe          BL       BUTTON_SetFont
;;;245        //
;;;246        //GUI_ID_STOP_BUTTON
;;;247        //
;;;248        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_STOP_BUTTON),&GUI_FontHZ_SongTi_16);
00002e  f6400103          MOV      r1,#0x803
000032  4620              MOV      r0,r4
000034  f7fffffe          BL       WM_GetDialogItem
000038  4935              LDR      r1,|L1.272|
00003a  f7fffffe          BL       BUTTON_SetFont
;;;249        //
;;;250        //GUI_ID_AUTO_BUTTON
;;;251        //
;;;252        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_AUTO_BUTTON),&GUI_FontHZ_SongTi_16);
00003e  f6400104          MOV      r1,#0x804
000042  4620              MOV      r0,r4
000044  f7fffffe          BL       WM_GetDialogItem
000048  4931              LDR      r1,|L1.272|
00004a  f7fffffe          BL       BUTTON_SetFont
;;;253        //
;;;254        //GUI_ID_Z_FFT_BUTTON
;;;255        //
;;;256        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_Z_FFT_BUTTON),&GUI_FontHZ_SongTi_16);
00004e  f6400105          MOV      r1,#0x805
000052  4620              MOV      r0,r4
000054  f7fffffe          BL       WM_GetDialogItem
000058  492d              LDR      r1,|L1.272|
00005a  f7fffffe          BL       BUTTON_SetFont
;;;257        //
;;;258        //GUI_ID_TICK_AB_BUTTON
;;;259        //
;;;260        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_TICK_AB_BUTTON),&GUI_FontHZ_SongTi_16);
00005e  f6400106          MOV      r1,#0x806
000062  4620              MOV      r0,r4
000064  f7fffffe          BL       WM_GetDialogItem
000068  4929              LDR      r1,|L1.272|
00006a  f7fffffe          BL       BUTTON_SetFont
;;;261        //
;;;262        //GUI_ID_DISPALY_AB_BUTTON
;;;263        //
;;;264        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_DISPALY_AB_BUTTON),&GUI_FontHZ_SongTi_16);
00006e  f6400108          MOV      r1,#0x808
000072  4620              MOV      r0,r4
000074  f7fffffe          BL       WM_GetDialogItem
000078  4925              LDR      r1,|L1.272|
00007a  f7fffffe          BL       BUTTON_SetFont
;;;265        //
;;;266        //GUI_ID_REVIVAL_BUTTON
;;;267        //
;;;268        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_REVIVAL_BUTTON),&GUI_FontHZ_SongTi_16);
00007e  f6400109          MOV      r1,#0x809
000082  4620              MOV      r0,r4
000084  f7fffffe          BL       WM_GetDialogItem
000088  4921              LDR      r1,|L1.272|
00008a  f7fffffe          BL       BUTTON_SetFont
;;;269        //
;;;270        //GUI_ID_PRINT_BUTTON
;;;271        //
;;;272        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_PRINT_BUTTON),&GUI_FontHZ_SongTi_16);
00008e  f640010a          MOV      r1,#0x80a
000092  4620              MOV      r0,r4
000094  f7fffffe          BL       WM_GetDialogItem
000098  491d              LDR      r1,|L1.272|
00009a  f7fffffe          BL       BUTTON_SetFont
;;;273        //
;;;274        //GUI_ID_SAVE_BUTTON
;;;275        //
;;;276        BUTTON_SetFont(WM_GetDialogItem(hWin,GUI_ID_SAVE_BUTTON),&GUI_FontHZ_SongTi_16);
00009e  f640010b          MOV      r1,#0x80b
0000a2  4620              MOV      r0,r4
0000a4  f7fffffe          BL       WM_GetDialogItem
0000a8  4919              LDR      r1,|L1.272|
0000aa  f7fffffe          BL       BUTTON_SetFont
;;;277    
;;;278        //BUTTON_SetBitmapEx(hButton, BUTTON_BI_PRESSED,   &_bmShrink, 12, 2);
;;;279    	BUTTON_SetBitmapEx(WM_GetDialogItem(hWin,GUI_ID_ARROW_LEFT_BUTTON),BUTTON_BI_PRESSED,&arrow_left,8,10);
0000ae  f640050c          MOV      r5,#0x80c
0000b2  4629              MOV      r1,r5
0000b4  4620              MOV      r0,r4
0000b6  f7fffffe          BL       WM_GetDialogItem
0000ba  230a              MOVS     r3,#0xa
0000bc  9300              STR      r3,[sp,#0]
0000be  2308              MOVS     r3,#8
0000c0  4a14              LDR      r2,|L1.276|
0000c2  2101              MOVS     r1,#1
0000c4  f7fffffe          BL       BUTTON_SetBitmapEx
;;;280    	BUTTON_SetBitmapEx(WM_GetDialogItem(hWin,GUI_ID_ARROW_LEFT_BUTTON),BUTTON_BI_UNPRESSED,&arrow_left,8,10);
0000c8  4629              MOV      r1,r5
0000ca  4620              MOV      r0,r4
0000cc  f7fffffe          BL       WM_GetDialogItem
0000d0  230a              MOVS     r3,#0xa
0000d2  9300              STR      r3,[sp,#0]
0000d4  2308              MOVS     r3,#8
0000d6  4a0f              LDR      r2,|L1.276|
0000d8  2100              MOVS     r1,#0
0000da  f7fffffe          BL       BUTTON_SetBitmapEx
;;;281    	BUTTON_SetBitmapEx(WM_GetDialogItem(hWin,GUI_ID_ARROW_RIGHT_BUTTON),BUTTON_BI_PRESSED,&arrow_right,10,10);
0000de  1c6d              ADDS     r5,r5,#1
0000e0  4629              MOV      r1,r5
0000e2  4620              MOV      r0,r4
0000e4  f7fffffe          BL       WM_GetDialogItem
0000e8  4a0a              LDR      r2,|L1.276|
0000ea  230a              MOVS     r3,#0xa
0000ec  3a14              SUBS     r2,r2,#0x14
0000ee  2101              MOVS     r1,#1
0000f0  9300              STR      r3,[sp,#0]
0000f2  f7fffffe          BL       BUTTON_SetBitmapEx
;;;282    	BUTTON_SetBitmapEx(WM_GetDialogItem(hWin,GUI_ID_ARROW_RIGHT_BUTTON),BUTTON_BI_UNPRESSED,&arrow_right,10,10);
0000f6  4629              MOV      r1,r5
0000f8  4620              MOV      r0,r4
0000fa  f7fffffe          BL       WM_GetDialogItem
0000fe  4a05              LDR      r2,|L1.276|
000100  230a              MOVS     r3,#0xa
000102  3a14              SUBS     r2,r2,#0x14
000104  2100              MOVS     r1,#0
000106  9300              STR      r3,[sp,#0]
000108  f7fffffe          BL       BUTTON_SetBitmapEx
;;;283    }
00010c  bd38              POP      {r3-r5,pc}
;;;284    
                          ENDP

00010e  0000              DCW      0x0000
                  |L1.272|
                          DCD      GUI_FontHZ_SongTi_16
                  |L1.276|
                          DCD      ||area_number.47||+0x14

                          AREA ||i.OnButtonArrowLeftClicked||, CODE, READONLY, ALIGN=2

                  OnButtonArrowLeftClicked PROC
;;;609    
;;;610    void OnButtonArrowLeftClicked(WM_MESSAGE * pMsg)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;611    {
;;;612    #ifndef WIN_SIM
;;;613    	if(time_base.choice_ab == CHOICE_A)
000004  4c1d              LDR      r4,|L2.124|
;;;614    	{ 
;;;615    		if(time_base.A_pos - TIME_BASE_STEP >= SCALE_X_START)	
;;;616    		{
;;;617    		
;;;618    			GUI_SetVLine(time_base.A_pos, 0,470,&time_base.A_color_value[0]);
000006  f44f71eb          MOV      r1,#0x1d6
00000a  4620              MOV      r0,r4                 ;613
00000c  7a22              LDRB     r2,[r4,#8]            ;613  ; time_base
00000e  6800              LDR      r0,[r0,#0]            ;615
000010  b1e2              CBZ      r2,|L2.76|
;;;619    			time_base.A_pos -= TIME_BASE_STEP;
;;;620    			GUI_GetVLine(time_base.A_pos, 0,470,&time_base.A_color_value[0]);
;;;621    			GUI_DrawLine(time_base.A_pos,0,time_base.A_pos,470);
;;;622    		}
;;;623    	}
;;;624    	else
;;;625    	{
;;;626    		if(time_base.B_pos - TIME_BASE_STEP > time_base.A_pos)	
000012  6865              LDR      r5,[r4,#4]  ; time_base
000014  1f6a              SUBS     r2,r5,#5
000016  4282              CMP      r2,r0
000018  dd2e              BLE      |L2.120|
;;;627    		{
;;;628    		
;;;629    			GUI_SetVLine(time_base.B_pos, 0,470,&time_base.B_color_value[0]);
00001a  f20433ca          ADD      r3,r4,#0x3ca
00001e  460e              MOV      r6,r1
000020  460a              MOV      r2,r1
000022  461f              MOV      r7,r3
000024  2100              MOVS     r1,#0
000026  4628              MOV      r0,r5
000028  f7fffffe          BL       GUI_SetVLine
;;;630    			time_base.B_pos -= TIME_BASE_STEP;
00002c  6860              LDR      r0,[r4,#4]  ; time_base
00002e  463b              MOV      r3,r7
000030  1f40              SUBS     r0,r0,#5
;;;631    			GUI_GetVLine(time_base.B_pos, 0,470,&time_base.B_color_value[0]);
000032  4632              MOV      r2,r6
000034  2100              MOVS     r1,#0
000036  6060              STR      r0,[r4,#4]  ; time_base
000038  f7fffffe          BL       GUI_GetVLine
;;;632    			GUI_DrawLine(time_base.B_pos,0,time_base.B_pos,470);
00003c  6860              LDR      r0,[r4,#4]  ; time_base
00003e  4633              MOV      r3,r6
                  |L2.64|
000040  e8bd41f0          POP      {r4-r8,lr}
000044  4602              MOV      r2,r0
000046  2100              MOVS     r1,#0
000048  f7ffbffe          B.W      GUI_DrawLine
                  |L2.76|
00004c  1f42              SUBS     r2,r0,#5              ;615
00004e  2a14              CMP      r2,#0x14              ;615
000050  db12              BLT      |L2.120|
000052  4b0a              LDR      r3,|L2.124|
000054  460d              MOV      r5,r1                 ;618
000056  330a              ADDS     r3,r3,#0xa            ;618
000058  460a              MOV      r2,r1                 ;618
00005a  461e              MOV      r6,r3                 ;618
00005c  2100              MOVS     r1,#0                 ;618
00005e  f7fffffe          BL       GUI_SetVLine
000062  6820              LDR      r0,[r4,#0]            ;619  ; time_base
000064  4633              MOV      r3,r6                 ;619
000066  1f40              SUBS     r0,r0,#5              ;619
000068  462a              MOV      r2,r5                 ;620
00006a  2100              MOVS     r1,#0                 ;620
00006c  6020              STR      r0,[r4,#0]            ;620  ; time_base
00006e  f7fffffe          BL       GUI_GetVLine
000072  462b              MOV      r3,r5                 ;621
000074  6820              LDR      r0,[r4,#0]            ;621  ; time_base
000076  e7e3              B        |L2.64|
                  |L2.120|
;;;633    			
;;;634    		}
;;;635    	}
;;;636    #endif
;;;637    }
000078  e8bd81f0          POP      {r4-r8,pc}
;;;638    
                          ENDP

                  |L2.124|
                          DCD      ||.bss||

                          AREA ||i.OnButtonArrowRightClicked||, CODE, READONLY, ALIGN=2

                  OnButtonArrowRightClicked PROC
;;;638    
;;;639    void OnButtonArrowRightClicked(WM_MESSAGE * pMsg)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;640    {
;;;641    #ifndef WIN_SIM
;;;642    	if(time_base.choice_ab == CHOICE_A)
000004  4c1c              LDR      r4,|L3.120|
;;;643    	{ 
;;;644    		if(time_base.A_pos + TIME_BASE_STEP < time_base.B_pos)	
;;;645    		{
;;;646    			GUI_SetVLine(time_base.A_pos, 0,470,&time_base.A_color_value[0]);
000006  f44f75eb          MOV      r5,#0x1d6
00000a  4620              MOV      r0,r4                 ;642
00000c  7a21              LDRB     r1,[r4,#8]            ;642  ; time_base
00000e  6840              LDR      r0,[r0,#4]            ;644
000010  b1d1              CBZ      r1,|L3.72|
;;;647    			time_base.A_pos += TIME_BASE_STEP;
;;;648    			GUI_GetVLine(time_base.A_pos, 0,470,&time_base.A_color_value[0]);
;;;649    			GUI_DrawLine(time_base.A_pos,0,time_base.A_pos,470);
;;;650    	
;;;651    		}
;;;652    	}
;;;653    	else
;;;654    	{
;;;655    		if(time_base.B_pos + TIME_BASE_STEP <= SCALE_X_END)	
000012  1d41              ADDS     r1,r0,#5
000014  f5b17f1b          CMP      r1,#0x26c
000018  dc2c              BGT      |L3.116|
;;;656    		{
;;;657    			GUI_SetVLine(time_base.B_pos, 0,470,&time_base.B_color_value[0]);
00001a  f20433ca          ADD      r3,r4,#0x3ca
00001e  461e              MOV      r6,r3
000020  462a              MOV      r2,r5
000022  2100              MOVS     r1,#0
000024  f7fffffe          BL       GUI_SetVLine
;;;658    			time_base.B_pos += TIME_BASE_STEP;
000028  6860              LDR      r0,[r4,#4]  ; time_base
00002a  4633              MOV      r3,r6
00002c  1d40              ADDS     r0,r0,#5
;;;659    			GUI_GetVLine(time_base.B_pos, 0,470,&time_base.B_color_value[0]);
00002e  462a              MOV      r2,r5
000030  2100              MOVS     r1,#0
000032  6060              STR      r0,[r4,#4]  ; time_base
000034  f7fffffe          BL       GUI_GetVLine
;;;660    			GUI_DrawLine(time_base.B_pos,0,time_base.B_pos,470);
000038  6860              LDR      r0,[r4,#4]  ; time_base
                  |L3.58|
00003a  462b              MOV      r3,r5
00003c  e8bd41f0          POP      {r4-r8,lr}
000040  4602              MOV      r2,r0
000042  2100              MOVS     r1,#0
000044  f7ffbffe          B.W      GUI_DrawLine
                  |L3.72|
000048  6827              LDR      r7,[r4,#0]            ;644  ; time_base
00004a  1d79              ADDS     r1,r7,#5              ;644
00004c  4281              CMP      r1,r0                 ;644
00004e  da11              BGE      |L3.116|
000050  4b09              LDR      r3,|L3.120|
000052  462a              MOV      r2,r5                 ;646
000054  330a              ADDS     r3,r3,#0xa            ;646
000056  461e              MOV      r6,r3                 ;646
000058  2100              MOVS     r1,#0                 ;646
00005a  4638              MOV      r0,r7                 ;646
00005c  f7fffffe          BL       GUI_SetVLine
000060  6820              LDR      r0,[r4,#0]            ;647  ; time_base
000062  4633              MOV      r3,r6                 ;647
000064  1d40              ADDS     r0,r0,#5              ;647
000066  462a              MOV      r2,r5                 ;648
000068  2100              MOVS     r1,#0                 ;648
00006a  6020              STR      r0,[r4,#0]            ;648  ; time_base
00006c  f7fffffe          BL       GUI_GetVLine
000070  6820              LDR      r0,[r4,#0]            ;649  ; time_base
000072  e7e2              B        |L3.58|
                  |L3.116|
;;;661    		
;;;662    		}
;;;663    	}
;;;664    #endif
;;;665    }
000074  e8bd81f0          POP      {r4-r8,pc}
;;;666    
                          ENDP

                  |L3.120|
                          DCD      ||.bss||

                          AREA ||i.OnButtonAutoClicked||, CODE, READONLY, ALIGN=1

                  OnButtonAutoClicked PROC
;;;529    
;;;530    void OnButtonAutoClicked(WM_MESSAGE * pMsg)
000000  4770              BX       lr
;;;531    {
;;;532    	
;;;533    }
;;;534    
                          ENDP


                          AREA ||i.OnButtonDisplayABClicked||, CODE, READONLY, ALIGN=1

                  OnButtonDisplayABClicked PROC
;;;570    
;;;571    void OnButtonDisplayABClicked(WM_MESSAGE * pMsg)
000000  4770              BX       lr
;;;572    {
;;;573    	
;;;574    
;;;575    }
;;;576    
                          ENDP


                          AREA ||i.OnButtonPrintClicked||, CODE, READONLY, ALIGN=1

                  OnButtonPrintClicked PROC
;;;598    
;;;599    void OnButtonPrintClicked(WM_MESSAGE * pMsg)
000000  4770              BX       lr
;;;600    {
;;;601    }
;;;602    
                          ENDP


                          AREA ||i.OnButtonRevivalClicked||, CODE, READONLY, ALIGN=2

                  OnButtonRevivalClicked PROC
;;;578    
;;;579    void OnButtonRevivalClicked(WM_MESSAGE * pMsg)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;580    {
;;;581    	int i;
;;;582    	if(in_fft == 0)
000004  4e17              LDR      r6,|L7.100|
000006  78b1              LDRB     r1,[r6,#2]  ; in_fft
000008  b339              CBZ      r1,|L7.90|
;;;583    	{
;;;584    		home(pMsg);
;;;585    	}
;;;586    	else{
;;;587    		GUI_ClearRect(0,0,XYZ_FFT_X_SIZE,YXZ_FFT_Y_SIZE+80);
00000a  2100              MOVS     r1,#0
00000c  f24013cb          MOV      r3,#0x1cb
000010  f24022ad          MOV      r2,#0x2ad
000014  4608              MOV      r0,r1
000016  f7fffffe          BL       GUI_ClearRect
;;;588    		BUTTON_SetText(WM_GetDialogItem(current_handle,GUI_ID_REVIVAL_BUTTON),"返回");
00001a  4d13              LDR      r5,|L7.104|
00001c  f6400109          MOV      r1,#0x809
000020  f9b50000          LDRSH    r0,[r5,#0]  ; current_handle
000024  f7fffffe          BL       WM_GetDialogItem
000028  a110              ADR      r1,|L7.108|
00002a  f7fffffe          BL       BUTTON_SetText
;;;589    		for(i=GUI_ID_PARS_BUTTON;i<GUI_ID_ARROW_RIGHT_BUTTON+1;i++)
00002e  f6400401          MOV      r4,#0x801
000032  f640070e          MOV      r7,#0x80e
                  |L7.54|
;;;590    		{
;;;591    		WM_EnableWindow(WM_GetDialogItem(current_handle,i));
000036  4621              MOV      r1,r4
000038  f9b50000          LDRSH    r0,[r5,#0]  ; current_handle
00003c  f7fffffe          BL       WM_GetDialogItem
000040  f7fffffe          BL       WM_EnableWindow
000044  1c64              ADDS     r4,r4,#1              ;589
000046  42bc              CMP      r4,r7                 ;589
000048  dbf5              BLT      |L7.54|
;;;592    		}
;;;593    		in_fft = 0;
00004a  2400              MOVS     r4,#0
00004c  70b4              STRB     r4,[r6,#2]
;;;594    		time_base_inital();
00004e  f7fffffe          BL       time_base_inital
;;;595    		xyz_paint_flag = 0;
000052  4808              LDR      r0,|L7.116|
000054  6004              STR      r4,[r0,#0]  ; xyz_paint_flag
;;;596    	}
;;;597    }
000056  e8bd81f0          POP      {r4-r8,pc}
                  |L7.90|
00005a  e8bd41f0          POP      {r4-r8,lr}            ;584
00005e  f7ffbffe          B.W      home
;;;598    
                          ENDP

000062  0000              DCW      0x0000
                  |L7.100|
                          DCD      ||.data||
                  |L7.104|
                          DCD      current_handle
                  |L7.108|
00006c  b7b5bbd8          DCB      183,181,187,216,0
000070  00      
000071  00                DCB      0
000072  00                DCB      0
000073  00                DCB      0
                  |L7.116|
                          DCD      xyz_paint_flag

                          AREA ||i.OnButtonSaveClicked||, CODE, READONLY, ALIGN=1

                  OnButtonSaveClicked PROC
;;;602    
;;;603    void OnButtonSaveClicked(WM_MESSAGE * pMsg)
000000  f7ffbffe          B.W      xyz_file_close
;;;604    {
;;;605    
;;;606     xyz_file_close();
;;;607     
;;;608    }
;;;609    
                          ENDP


                          AREA ||i.OnButtonStartClicked||, CODE, READONLY, ALIGN=2

                  OnButtonStartClicked PROC
;;;492    
;;;493    void OnButtonStartClicked(WM_MESSAGE * pMsg)
000000  4911              LDR      r1,|L9.72|
;;;494    {
000002  b510              PUSH     {r4,lr}
;;;495    	Z_acc.got_acc_num = 0;
000004  2000              MOVS     r0,#0
;;;496    	Z_acc.used_acc_num = 0;
000006  6008              STR      r0,[r1,#0]  ; Z_acc
;;;497    	Z_acc.v_max = 0;
000008  6048              STR      r0,[r1,#4]  ; Z_acc
;;;498        
;;;499    
;;;500    	X_acc.got_acc_num = 0;
00000a  f8c10824          STR      r0,[r1,#0x824]  ; Z_acc
00000e  490f              LDR      r1,|L9.76|
;;;501    	X_acc.used_acc_num = 0;
000010  6008              STR      r0,[r1,#0]  ; X_acc
;;;502    	Y_acc.got_acc_num = 0;
000012  6048              STR      r0,[r1,#4]  ; X_acc
000014  490e              LDR      r1,|L9.80|
;;;503    	Y_acc.used_acc_num = 0;
000016  6008              STR      r0,[r1,#0]  ; Y_acc
;;;504    	
;;;505    	xyz_paint_flag = 0; 
000018  6048              STR      r0,[r1,#4]  ; Y_acc
00001a  490e              LDR      r1,|L9.84|
;;;506    	sample_status = START;
00001c  6008              STR      r0,[r1,#0]  ; xyz_paint_flag
00001e  490e              LDR      r1,|L9.88|
000020  2001              MOVS     r0,#1
000022  7048              STRB     r0,[r1,#1]
;;;507    
;;;508    	xyz_head_save();
000024  f7fffffe          BL       xyz_head_save
;;;509    	xyz_pars_save();
000028  f7fffffe          BL       xyz_pars_save
;;;510    	
;;;511    
;;;512    	GUI_ClearRect(0,XYZ_SCALE_Y_START,XYZ_FFT_X_SIZE,YXZ_FFT_Y_SIZE);
00002c  f240137b          MOV      r3,#0x17b
000030  f24022ad          MOV      r2,#0x2ad
000034  2117              MOVS     r1,#0x17
000036  2000              MOVS     r0,#0
000038  f7fffffe          BL       GUI_ClearRect
;;;513    
;;;514    #ifndef WIN_SIM
;;;515    	MMA845X_TIM6_interrupt_conf(ENABLE);//使能采样中断
00003c  e8bd4010          POP      {r4,lr}
000040  2001              MOVS     r0,#1
000042  f7ffbffe          B.W      MMA845X_TIM6_interrupt_conf
;;;516    #endif
;;;517    
;;;518    }
;;;519    
                          ENDP

000046  0000              DCW      0x0000
                  |L9.72|
                          DCD      Z_acc
                  |L9.76|
                          DCD      X_acc
                  |L9.80|
                          DCD      Y_acc
                  |L9.84|
                          DCD      xyz_paint_flag
                  |L9.88|
                          DCD      ||.data||

                          AREA ||i.OnButtonStopClicked||, CODE, READONLY, ALIGN=2

                  OnButtonStopClicked PROC
;;;519    
;;;520    void OnButtonStopClicked(WM_MESSAGE * pMsg)
000000  4904              LDR      r1,|L10.20|
;;;521    {
000002  b510              PUSH     {r4,lr}
;;;522    	
;;;523    	sample_status = STOP;
000004  2000              MOVS     r0,#0
000006  7048              STRB     r0,[r1,#1]
;;;524    #ifndef WIN_SIM
;;;525    	  MMA845X_TIM6_interrupt_conf(DISABLE);//除能采样中断
000008  f7fffffe          BL       MMA845X_TIM6_interrupt_conf
;;;526    #endif
;;;527    	xyz_file_save_end();
00000c  e8bd4010          POP      {r4,lr}
000010  f7ffbffe          B.W      xyz_file_save_end
;;;528    }
;;;529    
                          ENDP

                  |L10.20|
                          DCD      ||.data||

                          AREA ||i.OnButtonTickABClicked||, CODE, READONLY, ALIGN=2

                  OnButtonTickABClicked PROC
;;;552    
;;;553    void OnButtonTickABClicked(WM_MESSAGE * pMsg)
000000  b570              PUSH     {r4-r6,lr}
;;;554    {
;;;555    	static int tick_ab = 2;
;;;556    	WM_HWIN hWin = pMsg->hWin; 
;;;557    	if(tick_ab == 1)
000002  4a0d              LDR      r2,|L11.56|
000004  f9b00004          LDRSH    r0,[r0,#4]            ;556
000008  2401              MOVS     r4,#1
00000a  6893              LDR      r3,[r2,#8]  ; tick_ab
;;;558    	{
;;;559    		tick_ab = 0;
00000c  2500              MOVS     r5,#0
;;;560    		BUTTON_SetText(WM_GetDialogItem(hWin,GUI_ID_TICK_AB_BUTTON),"时基B");
;;;561    		time_base.choice_ab = CHOICE_B;
00000e  4e0b              LDR      r6,|L11.60|
000010  f6400106          MOV      r1,#0x806             ;560
000014  2b01              CMP      r3,#1                 ;557
000016  d007              BEQ      |L11.40|
;;;562    	}
;;;563    	else 
;;;564    	{
;;;565    		tick_ab = 1;
;;;566    		BUTTON_SetText(WM_GetDialogItem(hWin,GUI_ID_TICK_AB_BUTTON),"时基A");
000018  6094              STR      r4,[r2,#8]  ; tick_ab
00001a  f7fffffe          BL       WM_GetDialogItem
00001e  a108              ADR      r1,|L11.64|
000020  f7fffffe          BL       BUTTON_SetText
;;;567    		time_base.choice_ab = CHOICE_A;
000024  7235              STRB     r5,[r6,#8]
;;;568    	}
;;;569    }
000026  bd70              POP      {r4-r6,pc}
                  |L11.40|
000028  6095              STR      r5,[r2,#8]            ;560  ; tick_ab
00002a  f7fffffe          BL       WM_GetDialogItem
00002e  a106              ADR      r1,|L11.72|
000030  f7fffffe          BL       BUTTON_SetText
000034  7234              STRB     r4,[r6,#8]            ;561
000036  bd70              POP      {r4-r6,pc}
;;;570    
                          ENDP

                  |L11.56|
                          DCD      ||.data||
                  |L11.60|
                          DCD      ||.bss||
                  |L11.64|
000040  cab1bbf9          DCB      202,177,187,249,"A",0
000044  4100    
000046  00                DCB      0
000047  00                DCB      0
                  |L11.72|
000048  cab1bbf9          DCB      202,177,187,249,"B",0
00004c  4200    
00004e  00                DCB      0
00004f  00                DCB      0

                          AREA ||i.OnButtonZ_FFTClicked||, CODE, READONLY, ALIGN=2

                  OnButtonZ_FFTClicked PROC
;;;534    
;;;535    void OnButtonZ_FFTClicked(WM_MESSAGE * pMsg)
000000  b530              PUSH     {r4,r5,lr}
;;;536    {
000002  b081              SUB      sp,sp,#4
;;;537    	int i,fftLen,ifftFlag,bitReverseFlag;
;;;538    	signed short fft_buf[FFT_LENTH*2];
;;;539    
;;;540    	in_fft = 1;
000004  480d              LDR      r0,|L12.60|
000006  f5ad5d80          SUB      sp,sp,#0x1000         ;536
00000a  2401              MOVS     r4,#1
00000c  7084              STRB     r4,[r0,#2]
;;;541    	get_za_data(fft_buf,FFT_LENTH*2);
00000e  02e1              LSLS     r1,r4,#11
000010  466d              MOV      r5,sp
000012  4668              MOV      r0,sp
000014  f7fffffe          BL       get_za_data
;;;542    	fftLen = FFT_LENTH;
000018  02a1              LSLS     r1,r4,#10
;;;543    	ifftFlag = 0;
;;;544    	bitReverseFlag = 1;
;;;545    	
;;;546    	arm_cfft_radix4_init_q15(&fft_S,fftLen,ifftFlag,bitReverseFlag);
00001a  4623              MOV      r3,r4
00001c  2200              MOVS     r2,#0
00001e  4808              LDR      r0,|L12.64|
000020  f7fffffe          BL       arm_cfft_radix4_init_q15
;;;547    	get_data_from_sd(fft_buf ,loc_A,loc_B, FFT_LENTH*2,ONE_AXLE);
;;;548    	arm_cfft_radix4_q15(&fft_S, fft_buf);
000024  4629              MOV      r1,r5
000026  4806              LDR      r0,|L12.64|
000028  f7fffffe          BL       arm_cfft_radix4_q15
;;;549    	view_fft(fft_buf);
00002c  4628              MOV      r0,r5
00002e  f7fffffe          BL       view_fft
;;;550    
;;;551    }
000032  b001              ADD      sp,sp,#4
000034  f50d5d80          ADD      sp,sp,#0x1000
000038  bd30              POP      {r4,r5,pc}
;;;552    
                          ENDP

00003a  0000              DCW      0x0000
                  |L12.60|
                          DCD      ||.data||
                  |L12.64|
                          DCD      ||.bss||+0x1000

                          AREA ||i.OnButton_SetParaClicked||, CODE, READONLY, ALIGN=1

                  OnButton_SetParaClicked PROC
;;;485    */
;;;486    void OnButton_SetParaClicked(WM_MESSAGE *pMsg)
000000  f7ffbffe          B.W      xyz_acc_parameter
;;;487    {
;;;488    	
;;;489    	xyz_acc_parameter(pMsg);
;;;490    	
;;;491    }
;;;492    
                          ENDP


                          AREA ||i.PaintDialog||, CODE, READONLY, ALIGN=1

                  PaintDialog PROC
;;;217    
;;;218    void PaintDialog(WM_MESSAGE * pMsg)
000000  4770              BX       lr
;;;219    {
;;;220        WM_HWIN hWin = pMsg->hWin;
;;;221    }
;;;222    
                          ENDP


                          AREA ||i._cbCallback||, CODE, READONLY, ALIGN=1

                  _cbCallback PROC
;;;288    */
;;;289    static void _cbCallback(WM_MESSAGE * pMsg) 
000000  b570              PUSH     {r4-r6,lr}
;;;290    {
000002  4604              MOV      r4,r0
;;;291        int NCode, Id;
;;;292        WM_HWIN hWin = pMsg->hWin;
000004  f9b05004          LDRSH    r5,[r0,#4]
;;;293        switch (pMsg->MsgId) 
000008  6800              LDR      r0,[r0,#0]
00000a  280e              CMP      r0,#0xe
00000c  d00f              BEQ      |L15.46|
00000e  280f              CMP      r0,#0xf
000010  d07e              BEQ      |L15.272|
000012  281d              CMP      r0,#0x1d
000014  d006              BEQ      |L15.36|
000016  2826              CMP      r0,#0x26
000018  d011              BEQ      |L15.62|
;;;294        {
;;;295            case WM_PAINT:
;;;296                PaintDialog(pMsg);
;;;297                break;
;;;298            case WM_INIT_DIALOG:
;;;299                InitDialog(pMsg);
;;;300                break;
;;;301            case WM_KEY:
;;;302                switch (((WM_KEY_INFO*)(pMsg->Data.p))->Key) 
;;;303                {
;;;304                    case GUI_KEY_ESCAPE:
;;;305                        GUI_EndDialog(hWin, 1);
;;;306                        break;
;;;307                    case GUI_KEY_ENTER:
;;;308                        GUI_EndDialog(hWin, 0);
;;;309                        break;
;;;310                }
;;;311                break;
;;;312            case WM_NOTIFY_PARENT:
;;;313                Id = WM_GetId(pMsg->hWinSrc); 
;;;314                NCode = pMsg->Data.v;        
;;;315                switch (Id) 
;;;316                {
;;;317                    case GUI_ID_OK:
;;;318                        if(NCode==WM_NOTIFICATION_RELEASED)
;;;319                            GUI_EndDialog(hWin, 0);
;;;320                        break;
;;;321                    case GUI_ID_CANCEL:
;;;322                        if(NCode==WM_NOTIFICATION_RELEASED)
;;;323                            GUI_EndDialog(hWin, 0);
;;;324                        break;
;;;325                    case GUI_ID_PARS_BUTTON:
;;;326                        switch(NCode)
;;;327                        {
;;;328                            case WM_NOTIFICATION_CLICKED:
;;;329                                OnButton_SetParaClicked(pMsg);
;;;330                                break;
;;;331                        }
;;;332                        break;
;;;333                    case GUI_ID_START_BUTTON:
;;;334                        switch(NCode)
;;;335                        {
;;;336                            case WM_NOTIFICATION_CLICKED:
;;;337                                OnButtonStartClicked(pMsg);
;;;338                                break;
;;;339                        }
;;;340                        break;
;;;341                    case GUI_ID_STOP_BUTTON:
;;;342                        switch(NCode)
;;;343                        {
;;;344                            case WM_NOTIFICATION_CLICKED:
;;;345                                OnButtonStopClicked(pMsg);
;;;346                                break;
;;;347                        }
;;;348                        break;
;;;349                    case GUI_ID_AUTO_BUTTON:
;;;350                        switch(NCode)
;;;351                        {
;;;352                            case WM_NOTIFICATION_CLICKED:
;;;353                                OnButtonAutoClicked(pMsg);
;;;354                                break;
;;;355                        }
;;;356                        break;
;;;357                    case GUI_ID_Z_FFT_BUTTON:
;;;358                        switch(NCode)
;;;359                        {
;;;360                            case WM_NOTIFICATION_CLICKED:
;;;361                                OnButtonZ_FFTClicked(pMsg);
;;;362                                break;
;;;363                        }
;;;364                        break;
;;;365                    case GUI_ID_TICK_AB_BUTTON:
;;;366                        switch(NCode)
;;;367                        {
;;;368                            case WM_NOTIFICATION_CLICKED:
;;;369                                OnButtonTickABClicked(pMsg);
;;;370                                break;
;;;371                        }
;;;372                        break;
;;;373                    case GUI_ID_DISPALY_AB_BUTTON:
;;;374                        switch(NCode)
;;;375                        {
;;;376                            case WM_NOTIFICATION_CLICKED:
;;;377                                OnButtonDisplayABClicked(pMsg);
;;;378                                break;
;;;379                        }
;;;380                        break;
;;;381                    case GUI_ID_REVIVAL_BUTTON:
;;;382                        switch(NCode)
;;;383                        {
;;;384                            case WM_NOTIFICATION_CLICKED:
;;;385                                OnButtonRevivalClicked(pMsg);
;;;386                                break;
;;;387                        }
;;;388                        break;
;;;389                    case GUI_ID_PRINT_BUTTON:
;;;390                        switch(NCode)
;;;391                        {
;;;392                            case WM_NOTIFICATION_CLICKED:
;;;393                                OnButtonPrintClicked(pMsg);
;;;394                                break;
;;;395                        }
;;;396                        break;
;;;397                    case GUI_ID_SAVE_BUTTON:
;;;398                        switch(NCode)
;;;399                        {
;;;400                            case WM_NOTIFICATION_CLICKED:
;;;401                                OnButtonSaveClicked(pMsg);
;;;402                                break;
;;;403                        }
;;;404                        break;
;;;405                    case GUI_ID_ARROW_LEFT_BUTTON:
;;;406                        switch(NCode)
;;;407                        {
;;;408                            case WM_NOTIFICATION_CLICKED:
;;;409                                OnButtonArrowLeftClicked(pMsg);
;;;410                                break;
;;;411                        }
;;;412                        break;
;;;413                    case GUI_ID_ARROW_RIGHT_BUTTON:
;;;414                        switch(NCode)
;;;415                        {
;;;416                            case WM_NOTIFICATION_CLICKED:
;;;417                                OnButtonArrowRightClicked(pMsg);
;;;418                                break;
;;;419                        }
;;;420                        break;
;;;421                }
;;;422                break;
;;;423            default:
;;;424                WM_DefaultProc(pMsg);
00001a  4620              MOV      r0,r4
00001c  e8bd4070          POP      {r4-r6,lr}
000020  f7ffbffe          B.W      WM_DefaultProc
                  |L15.36|
000024  4620              MOV      r0,r4                 ;299
000026  e8bd4070          POP      {r4-r6,lr}            ;299
00002a  f7ffbffe          B.W      InitDialog
                  |L15.46|
00002e  68a0              LDR      r0,[r4,#8]            ;302
000030  6800              LDR      r0,[r0,#0]            ;302
000032  280d              CMP      r0,#0xd               ;302
000034  d03a              BEQ      |L15.172|
000036  281b              CMP      r0,#0x1b              ;302
000038  d170              BNE      |L15.284|
00003a  2101              MOVS     r1,#1                 ;305
00003c  e037              B        |L15.174|
                  |L15.62|
00003e  f9b40006          LDRSH    r0,[r4,#6]            ;313
000042  f7fffffe          BL       WM_GetId
000046  f6400306          MOV      r3,#0x806             ;315
00004a  68a1              LDR      r1,[r4,#8]            ;315
00004c  f6a00206          SUB      r2,r0,#0x806          ;315
000050  4298              CMP      r0,r3                 ;315
000052  d03f              BEQ      |L15.212|
000054  dc20              BGT      |L15.152|
000056  f6400302          MOV      r3,#0x802             ;315
00005a  f6a00202          SUB      r2,r0,#0x802          ;315
00005e  4298              CMP      r0,r3                 ;315
000060  d02a              BEQ      |L15.184|
000062  dc0c              BGT      |L15.126|
000064  2801              CMP      r0,#1                 ;315
000066  d01f              BEQ      |L15.168|
000068  2802              CMP      r0,#2                 ;315
00006a  d01d              BEQ      |L15.168|
00006c  1c50              ADDS     r0,r2,#1              ;315
00006e  d155              BNE      |L15.284|
000070  2901              CMP      r1,#1                 ;326
000072  d153              BNE      |L15.284|
000074  4620              MOV      r0,r4                 ;326
000076  e8bd4070          POP      {r4-r6,lr}            ;326
00007a  f7ffbffe          B.W      xyz_acc_parameter
                  |L15.126|
00007e  2a01              CMP      r2,#1                 ;315
000080  d021              BEQ      |L15.198|
000082  2a02              CMP      r2,#2                 ;315
000084  d04a              BEQ      |L15.284|
000086  2a03              CMP      r2,#3                 ;315
000088  d148              BNE      |L15.284|
00008a  2901              CMP      r1,#1                 ;358
00008c  d146              BNE      |L15.284|
00008e  4620              MOV      r0,r4                 ;361
000090  e8bd4070          POP      {r4-r6,lr}            ;361
000094  f7ffbffe          B.W      OnButtonZ_FFTClicked
                  |L15.152|
000098  1e92              SUBS     r2,r2,#2              ;315
00009a  2a06              CMP      r2,#6                 ;315
00009c  d23e              BCS      |L15.284|
00009e  e8dff002          TBB      [pc,r2]               ;315
0000a2  3d20              DCB      0x3d,0x20
0000a4  3d272d34          DCB      0x3d,0x27,0x2d,0x34
                  |L15.168|
0000a8  2902              CMP      r1,#2                 ;318
0000aa  d137              BNE      |L15.284|
                  |L15.172|
0000ac  2100              MOVS     r1,#0                 ;323
                  |L15.174|
0000ae  4628              MOV      r0,r5                 ;323
0000b0  e8bd4070          POP      {r4-r6,lr}            ;323
0000b4  f7ffbffe          B.W      GUI_EndDialog
                  |L15.184|
0000b8  2901              CMP      r1,#1                 ;334
0000ba  d12f              BNE      |L15.284|
0000bc  4620              MOV      r0,r4                 ;337
0000be  e8bd4070          POP      {r4-r6,lr}            ;337
0000c2  f7ffbffe          B.W      OnButtonStartClicked
                  |L15.198|
0000c6  2901              CMP      r1,#1                 ;342
0000c8  d128              BNE      |L15.284|
0000ca  4620              MOV      r0,r4                 ;345
0000cc  e8bd4070          POP      {r4-r6,lr}            ;345
0000d0  f7ffbffe          B.W      OnButtonStopClicked
                  |L15.212|
0000d4  2901              CMP      r1,#1                 ;366
0000d6  d121              BNE      |L15.284|
0000d8  4620              MOV      r0,r4                 ;369
0000da  e8bd4070          POP      {r4-r6,lr}            ;369
0000de  f7ffbffe          B.W      OnButtonTickABClicked
0000e2  2901              CMP      r1,#1                 ;382
0000e4  d11a              BNE      |L15.284|
0000e6  4620              MOV      r0,r4                 ;385
0000e8  e8bd4070          POP      {r4-r6,lr}            ;385
0000ec  f7ffbffe          B.W      OnButtonRevivalClicked
0000f0  2901              CMP      r1,#1                 ;398
0000f2  d113              BNE      |L15.284|
0000f4  e8bd4070          POP      {r4-r6,lr}            ;398
0000f8  f7ffbffe          B.W      xyz_file_close
0000fc  2901              CMP      r1,#1                 ;406
0000fe  d10d              BNE      |L15.284|
000100  4620              MOV      r0,r4                 ;409
000102  e8bd4070          POP      {r4-r6,lr}            ;409
000106  f7ffbffe          B.W      OnButtonArrowLeftClicked
00010a  2901              CMP      r1,#1                 ;414
00010c  d106              BNE      |L15.284|
00010e  e000              B        |L15.274|
                  |L15.272|
000110  e004              B        |L15.284|
                  |L15.274|
000112  4620              MOV      r0,r4                 ;417
000114  e8bd4070          POP      {r4-r6,lr}            ;417
000118  f7ffbffe          B.W      OnButtonArrowRightClicked
                  |L15.284|
;;;425        }
;;;426    }
00011c  bd70              POP      {r4-r6,pc}
;;;427    
                          ENDP


                          AREA ||i.charge_button_fft_fun||, CODE, READONLY, ALIGN=2

                  charge_button_fft_fun PROC
;;;1004   
;;;1005   void charge_button_fft_fun(void)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;1006   {
;;;1007   	int i;
;;;1008   	BUTTON_SetText(WM_GetDialogItem(current_handle,GUI_ID_REVIVAL_BUTTON),"FFT返回");
000004  4d14              LDR      r5,|L16.88|
000006  f6400709          MOV      r7,#0x809
00000a  4639              MOV      r1,r7
00000c  f9b50000          LDRSH    r0,[r5,#0]  ; current_handle
000010  f7fffffe          BL       WM_GetDialogItem
000014  a111              ADR      r1,|L16.92|
000016  f7fffffe          BL       BUTTON_SetText
;;;1009   	
;;;1010   	for(i=GUI_ID_PARS_BUTTON;i<GUI_ID_ARROW_RIGHT_BUTTON+1;i++)
00001a  f6400401          MOV      r4,#0x801
00001e  1d7e              ADDS     r6,r7,#5
                  |L16.32|
;;;1011   	{
;;;1012   	WM_DisableWindow(WM_GetDialogItem(current_handle,i));
000020  4621              MOV      r1,r4
000022  f9b50000          LDRSH    r0,[r5,#0]  ; current_handle
000026  f7fffffe          BL       WM_GetDialogItem
00002a  f7fffffe          BL       WM_DisableWindow
00002e  1c64              ADDS     r4,r4,#1              ;1010
000030  42b4              CMP      r4,r6                 ;1010
000032  dbf5              BLT      |L16.32|
;;;1013   	}
;;;1014   	WM_EnableWindow(WM_GetDialogItem(current_handle,GUI_ID_REVIVAL_BUTTON));
000034  4639              MOV      r1,r7
000036  f9b50000          LDRSH    r0,[r5,#0]  ; current_handle
00003a  f7fffffe          BL       WM_GetDialogItem
00003e  f7fffffe          BL       WM_EnableWindow
;;;1015   	BUTTON_SetPressed(WM_GetDialogItem(current_handle,GUI_ID_Z_FFT_BUTTON),0);
000042  f6400105          MOV      r1,#0x805
000046  f9b50000          LDRSH    r0,[r5,#0]  ; current_handle
00004a  f7fffffe          BL       WM_GetDialogItem
00004e  e8bd41f0          POP      {r4-r8,lr}
000052  2100              MOVS     r1,#0
000054  f7ffbffe          B.W      BUTTON_SetPressed
;;;1016   }
;;;1017   
                          ENDP

                  |L16.88|
                          DCD      current_handle
                  |L16.92|
00005c  464654b7          DCB      "FFT",183,181,187,216,0
000060  b5bbd800

                          AREA ||i.disp_caculate||, CODE, READONLY, ALIGN=2

                  disp_caculate PROC
;;;1062   
;;;1063   void disp_caculate(void)
000000  e92d5ffc          PUSH     {r2-r12,lr}
;;;1064   {
;;;1065   	int x,y,det;
;;;1066   	float mid;
;;;1067   	GUI_COLOR color;
;;;1068   	const	GUI_FONT *pfont;
;;;1069   	color = GUI_GetColor();
000004  f7fffffe          BL       GUI_GetColor
;;;1070   	x = 10;
000008  270a              MOVS     r7,#0xa
;;;1071   	y = 440-96;
00000a  f44f75ac          MOV      r5,#0x158
;;;1072   	det = 78*1.5;
;;;1073   
;;;1074   	pfont = GUI_GetFont();
00000e  9000              STR      r0,[sp,#0]
000010  f7fffffe          BL       GUI_GetFont
;;;1075   
;;;1076   	GUI_SetFont(&GUI_Font8x16);
000014  9001              STR      r0,[sp,#4]
000016  486c              LDR      r0,|L17.456|
000018  f7fffffe          BL       GUI_SetFont
;;;1077   	GUI_SetColor(GUI_BLUE);
00001c  f44f007f          MOV      r0,#0xff0000
000020  f7fffffe          BL       GUI_SetColor
;;;1078   
;;;1079   	GUI_GotoXY(x+det*0,y);
000024  4629              MOV      r1,r5
000026  4638              MOV      r0,r7
000028  f7fffffe          BL       GUI_GotoXY
;;;1080   	// Z_acc.acc_max >> 2
;;;1081   	// ---> 2 -- 4095*2
;;;1082   	// ---> 1 -- 4096
;;;1083   	//.4096 --> >> 12
;;;1084   	
;;;1085   	mid = GET_ACC(Z_acc.acc_max);
00002c  4c67              LDR      r4,|L17.460|
00002e  f9b40000          LDRSH    r0,[r4,#0]  ; Z_acc
000032  f7fffffe          BL       __aeabi_i2d
000036  4a66              LDR      r2,|L17.464|
000038  4b66              LDR      r3,|L17.468|
00003a  f7fffffe          BL       __aeabi_dmul
00003e  f7fffffe          BL       __aeabi_d2f
;;;1086   	GUI_DispFloat(mid/100,5);
000042  f8dfb194          LDR      r11,|L17.472|
000046  4659              MOV      r1,r11
000048  f7fffffe          BL       __aeabi_fdiv
00004c  2105              MOVS     r1,#5
00004e  f7fffffe          BL       GUI_DispFloat
;;;1087   
;;;1088   	GUI_GotoXY(x+det*1,y);
000052  207f              MOVS     r0,#0x7f
000054  4629              MOV      r1,r5
000056  f7fffffe          BL       GUI_GotoXY
;;;1089   	mid = GET_ACC(Z_acc.acc_ave_add);
00005a  f9b40002          LDRSH    r0,[r4,#2]  ; Z_acc
00005e  f7fffffe          BL       __aeabi_i2d
000062  4a5b              LDR      r2,|L17.464|
000064  4b5b              LDR      r3,|L17.468|
000066  f7fffffe          BL       __aeabi_dmul
00006a  f7fffffe          BL       __aeabi_d2f
00006e  4606              MOV      r6,r0
;;;1090   	mid = mid/Z_acc.acc_time;
000070  6860              LDR      r0,[r4,#4]  ; Z_acc
000072  f7fffffe          BL       __aeabi_ui2f
000076  4601              MOV      r1,r0
000078  4630              MOV      r0,r6
00007a  f7fffffe          BL       __aeabi_fdiv
;;;1091   	GUI_DispFloat(mid/100,5);
00007e  4659              MOV      r1,r11
000080  f7fffffe          BL       __aeabi_fdiv
000084  2105              MOVS     r1,#5
000086  f7fffffe          BL       GUI_DispFloat
;;;1092   
;;;1093   	GUI_GotoXY(x+det*2,y);
00008a  20f4              MOVS     r0,#0xf4
00008c  4629              MOV      r1,r5
00008e  f7fffffe          BL       GUI_GotoXY
;;;1094   	GUI_DispFloat((float)(Z_acc.acc_time*0.00125),5);
000092  6860              LDR      r0,[r4,#4]  ; Z_acc
000094  f7fffffe          BL       __aeabi_ui2d
000098  f8df8140          LDR      r8,|L17.476|
00009c  f8df9140          LDR      r9,|L17.480|
0000a0  4642              MOV      r2,r8
0000a2  464b              MOV      r3,r9
0000a4  f7fffffe          BL       __aeabi_dmul
0000a8  f7fffffe          BL       __aeabi_d2f
0000ac  2105              MOVS     r1,#5
0000ae  f7fffffe          BL       GUI_DispFloat
;;;1095   
;;;1096   	GUI_GotoXY(x+det*3,y);
0000b2  f2401a69          MOV      r10,#0x169
0000b6  4629              MOV      r1,r5
0000b8  4650              MOV      r0,r10
0000ba  f7fffffe          BL       GUI_GotoXY
;;;1097   
;;;1098   	mid = GET_ACC(Z_acc.dec_max);
0000be  f9b40008          LDRSH    r0,[r4,#8]  ; Z_acc
0000c2  f7fffffe          BL       __aeabi_i2d
0000c6  4a42              LDR      r2,|L17.464|
0000c8  4b42              LDR      r3,|L17.468|
0000ca  f7fffffe          BL       __aeabi_dmul
0000ce  f7fffffe          BL       __aeabi_d2f
;;;1099   	GUI_DispFloat(mid/100,5);
0000d2  4659              MOV      r1,r11
0000d4  f7fffffe          BL       __aeabi_fdiv
0000d8  2105              MOVS     r1,#5
0000da  f7fffffe          BL       GUI_DispFloat
;;;1100   	
;;;1101   	
;;;1102   	GUI_GotoXY(x+det*4,y);
0000de  f44f70ef          MOV      r0,#0x1de
0000e2  4629              MOV      r1,r5
0000e4  f7fffffe          BL       GUI_GotoXY
;;;1103   	mid = GET_ACC((Z_acc.dec_max))/Z_acc.acc_time;
0000e8  6860              LDR      r0,[r4,#4]  ; Z_acc
0000ea  f7fffffe          BL       __aeabi_ui2d
0000ee  4605              MOV      r5,r0
0000f0  460e              MOV      r6,r1
0000f2  f9b40008          LDRSH    r0,[r4,#8]  ; Z_acc
0000f6  f7fffffe          BL       __aeabi_i2d
0000fa  4a35              LDR      r2,|L17.464|
0000fc  4b35              LDR      r3,|L17.468|
0000fe  f7fffffe          BL       __aeabi_dmul
000102  462a              MOV      r2,r5
000104  4633              MOV      r3,r6
000106  f7fffffe          BL       __aeabi_ddiv
00010a  f7fffffe          BL       __aeabi_d2f
;;;1104   
;;;1105   	GUI_DispFloat(mid/100,5);
00010e  4659              MOV      r1,r11
000110  f7fffffe          BL       __aeabi_fdiv
000114  2105              MOVS     r1,#5
000116  f7fffffe          BL       GUI_DispFloat
;;;1106   
;;;1107   	GUI_GotoXY(x+det*0,y+64);
00011a  f44f75cc          MOV      r5,#0x198
00011e  4629              MOV      r1,r5
000120  4638              MOV      r0,r7
000122  f7fffffe          BL       GUI_GotoXY
;;;1108   	GUI_DispFloat((float)(Z_acc.dec_time*0.00125),5);
000126  68e0              LDR      r0,[r4,#0xc]  ; Z_acc
000128  f7fffffe          BL       __aeabi_ui2d
00012c  4642              MOV      r2,r8
00012e  464b              MOV      r3,r9
000130  f7fffffe          BL       __aeabi_dmul
000134  f7fffffe          BL       __aeabi_d2f
000138  2105              MOVS     r1,#5
00013a  f7fffffe          BL       GUI_DispFloat
;;;1109   
;;;1110   	GUI_GotoXY(x+det*1,y+64);
00013e  207f              MOVS     r0,#0x7f
000140  4629              MOV      r1,r5
000142  f7fffffe          BL       GUI_GotoXY
;;;1111   	mid = GET_ACC(Z_acc.acc_dec_abs_max);
000146  6920              LDR      r0,[r4,#0x10]  ; Z_acc
000148  f7fffffe          BL       __aeabi_ui2d
00014c  4a20              LDR      r2,|L17.464|
00014e  4b21              LDR      r3,|L17.468|
000150  f7fffffe          BL       __aeabi_dmul
000154  f7fffffe          BL       __aeabi_d2f
;;;1112   	GUI_DispFloat(mid/100,5);
000158  4659              MOV      r1,r11
00015a  f7fffffe          BL       __aeabi_fdiv
00015e  2105              MOVS     r1,#5
000160  f7fffffe          BL       GUI_DispFloat
;;;1113   
;;;1114   	GUI_GotoXY(x+det*2,y+64);
000164  20f4              MOVS     r0,#0xf4
000166  4629              MOV      r1,r5
000168  f7fffffe          BL       GUI_GotoXY
;;;1115   	mid = GET_ACC(X_acc.acc_dec_abs_max);
00016c  481d              LDR      r0,|L17.484|
00016e  f8d00818          LDR      r0,[r0,#0x818]  ; X_acc
000172  f7fffffe          BL       __aeabi_ui2d
000176  4a16              LDR      r2,|L17.464|
000178  4b16              LDR      r3,|L17.468|
00017a  f7fffffe          BL       __aeabi_dmul
00017e  f7fffffe          BL       __aeabi_d2f
;;;1116   	GUI_DispFloat(mid/100,5);
000182  4659              MOV      r1,r11
000184  f7fffffe          BL       __aeabi_fdiv
000188  2105              MOVS     r1,#5
00018a  f7fffffe          BL       GUI_DispFloat
;;;1117   
;;;1118   	GUI_GotoXY(x+det*3,y+64);
00018e  4629              MOV      r1,r5
000190  4650              MOV      r0,r10
000192  f7fffffe          BL       GUI_GotoXY
;;;1119   	mid = GET_ACC(Y_acc.acc_dec_abs_max);
000196  4814              LDR      r0,|L17.488|
000198  f8d00818          LDR      r0,[r0,#0x818]  ; Y_acc
00019c  f7fffffe          BL       __aeabi_ui2d
0001a0  4a0b              LDR      r2,|L17.464|
0001a2  4b0c              LDR      r3,|L17.468|
0001a4  f7fffffe          BL       __aeabi_dmul
0001a8  f7fffffe          BL       __aeabi_d2f
;;;1120   	GUI_DispFloat(mid/100,5);
0001ac  4659              MOV      r1,r11
0001ae  f7fffffe          BL       __aeabi_fdiv
0001b2  2105              MOVS     r1,#5
0001b4  f7fffffe          BL       GUI_DispFloat
;;;1121   
;;;1122   	GUI_SetColor(color);
0001b8  9800              LDR      r0,[sp,#0]
0001ba  f7fffffe          BL       GUI_SetColor
;;;1123   	GUI_SetFont(pfont);
0001be  9801              LDR      r0,[sp,#4]
0001c0  e8bd5ffc          POP      {r2-r12,lr}
0001c4  f7ffbffe          B.W      GUI_SetFont
;;;1124   }
;;;1125   
                          ENDP

                  |L17.456|
                          DCD      GUI_Font8x16
                  |L17.460|
                          DCD      Z_acc+0x808
                  |L17.464|
                          DCD      0x92a73711
                  |L17.468|
                          DCD      0x3fcea001
                  |L17.472|
                          DCD      0x42c80000
                  |L17.476|
                          DCD      0x47ae147b
                  |L17.480|
                          DCD      0x3f547ae1
                  |L17.484|
                          DCD      X_acc
                  |L17.488|
                          DCD      Y_acc

                          AREA ||i.disp_mode||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  disp_mode PROC
;;;1226   
;;;1227   void disp_mode(void)
000000  b5fe              PUSH     {r1-r7,lr}
;;;1228   {
;;;1229   	int x,y,det;
;;;1230   	float div;
;;;1231   	char buf[10];
;;;1232   
;;;1233   	GUI_COLOR color;
;;;1234   	color = GUI_GetColor();
000002  f7fffffe          BL       GUI_GetColor
000006  4606              MOV      r6,r0
;;;1235   	x = 8;
000008  2408              MOVS     r4,#8
;;;1236   	y = 420;
;;;1237   	det = 45;
;;;1238   
;;;1239   	GUI_SetColor(GUI_GREEN);
00000a  f44f407f          MOV      r0,#0xff00
00000e  f7fffffe          BL       GUI_SetColor
;;;1240   
;;;1241   	GUI_DispStringAt("MODE:", x+det*0,470);
000012  f44f75eb          MOV      r5,#0x1d6
000016  462a              MOV      r2,r5
000018  4621              MOV      r1,r4
00001a  a039              ADR      r0,|L18.256|
00001c  f7fffffe          BL       GUI_DispStringAt
;;;1242   	if(xyz_pars.auto_sel)
000020  4c39              LDR      r4,|L18.264|
;;;1243   	{
;;;1244   	GUI_DispStringAt("AUTO", x+det*1,470);
;;;1245   	GUI_DispStringAt("START:", x+det*2,470);
;;;1246   
;;;1247   	sprintf(buf,"%01.3fg",xyz_pars.auto_start_za);
;;;1248   	GUI_DispStringAt(buf, x+det*3,470);
;;;1249   
;;;1250   	GUI_DispStringAt("STOP:", x+det*4,470);
;;;1251   
;;;1252   	sprintf(buf,"%01.3fg",xyz_pars.auto_stop_za);
;;;1253   	GUI_DispStringAt(buf, x+det*5,470);
;;;1254   	
;;;1255   	}else{
;;;1256   	GUI_DispStringAt("SET", x+det*1,470);
000022  f04f0135          MOV      r1,#0x35
000026  462a              MOV      r2,r5
000028  68a0              LDR      r0,[r4,#8]            ;1242  ; xyz_pars
00002a  b328              CBZ      r0,|L18.120|
00002c  a037              ADR      r0,|L18.268|
00002e  f7fffffe          BL       GUI_DispStringAt
000032  2162              MOVS     r1,#0x62              ;1245
000034  462a              MOV      r2,r5                 ;1245
000036  a037              ADR      r0,|L18.276|
000038  f7fffffe          BL       GUI_DispStringAt
00003c  68e0              LDR      r0,[r4,#0xc]          ;1247  ; xyz_pars
00003e  f7fffffe          BL       __aeabi_f2d
000042  4602              MOV      r2,r0                 ;1247
000044  460b              MOV      r3,r1                 ;1247
000046  a135              ADR      r1,|L18.284|
000048  4668              MOV      r0,sp                 ;1247
00004a  f7fffffe          BL       __2sprintf
00004e  218f              MOVS     r1,#0x8f              ;1248
000050  462a              MOV      r2,r5                 ;1248
000052  4668              MOV      r0,sp                 ;1248
000054  f7fffffe          BL       GUI_DispStringAt
000058  21bc              MOVS     r1,#0xbc              ;1250
00005a  462a              MOV      r2,r5                 ;1250
00005c  a031              ADR      r0,|L18.292|
00005e  f7fffffe          BL       GUI_DispStringAt
000062  6920              LDR      r0,[r4,#0x10]         ;1252  ; xyz_pars
000064  f7fffffe          BL       __aeabi_f2d
000068  4602              MOV      r2,r0                 ;1252
00006a  460b              MOV      r3,r1                 ;1252
00006c  a12b              ADR      r1,|L18.284|
00006e  4668              MOV      r0,sp                 ;1252
000070  f7fffffe          BL       __2sprintf
000074  21e9              MOVS     r1,#0xe9              ;1253
000076  e00d              B        |L18.148|
                  |L18.120|
000078  a02c              ADR      r0,|L18.300|
00007a  f7fffffe          BL       GUI_DispStringAt
;;;1257   	GUI_DispStringAt("TIME:", x+det*2,470);
00007e  2162              MOVS     r1,#0x62
000080  462a              MOV      r2,r5
000082  a02b              ADR      r0,|L18.304|
000084  f7fffffe          BL       GUI_DispStringAt
;;;1258   	sprintf(buf,"%ds",xyz_pars.record_s);
000088  a12b              ADR      r1,|L18.312|
00008a  4668              MOV      r0,sp
00008c  6862              LDR      r2,[r4,#4]  ; xyz_pars
00008e  f7fffffe          BL       __2sprintf
;;;1259   	GUI_DispStringAt(buf, x+det*3,470);
000092  218f              MOVS     r1,#0x8f
                  |L18.148|
000094  462a              MOV      r2,r5
000096  4668              MOV      r0,sp
000098  f7fffffe          BL       GUI_DispStringAt
;;;1260   	}
;;;1261   	GUI_DispStringAt("FILTER:", x+det*6,470);
00009c  f44f718b          MOV      r1,#0x116
0000a0  462a              MOV      r2,r5
0000a2  a026              ADR      r0,|L18.316|
0000a4  f7fffffe          BL       GUI_DispStringAt
;;;1262   	if(xyz_pars.e_filter == 0)
0000a8  7820              LDRB     r0,[r4,#0]  ; xyz_pars
;;;1263   		GUI_DispStringAt("No", x+det*7,470);
0000aa  f2401143          MOV      r1,#0x143
0000ae  b150              CBZ      r0,|L18.198|
;;;1264   	else if(xyz_pars.e_filter == 1)
0000b0  2801              CMP      r0,#1
0000b2  d00b              BEQ      |L18.204|
;;;1265   		GUI_DispStringAt("20Hz", x+det*7,470);
;;;1266   	else if(xyz_pars.e_filter == 2)
0000b4  2802              CMP      r0,#2
0000b6  d00c              BEQ      |L18.210|
;;;1267   		GUI_DispStringAt("30Hz", x+det*7,470);
;;;1268   	else if(xyz_pars.e_filter == 3)
0000b8  2803              CMP      r0,#3
0000ba  d00d              BEQ      |L18.216|
;;;1269   		GUI_DispStringAt("50Hz", x+det*7,470);
;;;1270   	else  if(xyz_pars.e_filter == 4)
0000bc  2804              CMP      r0,#4
0000be  d00e              BEQ      |L18.222|
;;;1271   		GUI_DispStringAt("100Hz", x+det*7,470);
;;;1272   	else  if(xyz_pars.e_filter == 5)
0000c0  2805              CMP      r0,#5
0000c2  d00f              BEQ      |L18.228|
0000c4  e012              B        |L18.236|
                  |L18.198|
0000c6  462a              MOV      r2,r5                 ;1263
0000c8  a01e              ADR      r0,|L18.324|
0000ca  e00d              B        |L18.232|
                  |L18.204|
0000cc  462a              MOV      r2,r5                 ;1265
0000ce  a01e              ADR      r0,|L18.328|
0000d0  e00a              B        |L18.232|
                  |L18.210|
0000d2  462a              MOV      r2,r5                 ;1267
0000d4  a01e              ADR      r0,|L18.336|
0000d6  e007              B        |L18.232|
                  |L18.216|
0000d8  462a              MOV      r2,r5                 ;1269
0000da  a01f              ADR      r0,|L18.344|
0000dc  e004              B        |L18.232|
                  |L18.222|
0000de  462a              MOV      r2,r5                 ;1271
0000e0  a01f              ADR      r0,|L18.352|
0000e2  e001              B        |L18.232|
                  |L18.228|
;;;1273   		GUI_DispStringAt("200Hz", x+det*7,470);
0000e4  462a              MOV      r2,r5
0000e6  a020              ADR      r0,|L18.360|
                  |L18.232|
0000e8  f7fffffe          BL       GUI_DispStringAt
                  |L18.236|
;;;1274   	GUI_SetColor(color);
0000ec  4630              MOV      r0,r6
0000ee  f7fffffe          BL       GUI_SetColor
;;;1275   	
;;;1276   	if(xyz_pars.record_s > 600)
0000f2  6861              LDR      r1,[r4,#4]  ; xyz_pars
0000f4  f44f7016          MOV      r0,#0x258
0000f8  4281              CMP      r1,r0
0000fa  dd00              BLE      |L18.254|
;;;1277   	{
;;;1278   		xyz_pars.record_s = 600;
0000fc  6060              STR      r0,[r4,#4]  ; xyz_pars
                  |L18.254|
;;;1279   	}
;;;1280   }
0000fe  bdfe              POP      {r1-r7,pc}
;;;1281   
                          ENDP

                  |L18.256|
000100  4d4f4445          DCB      "MODE:",0
000104  3a00    
000106  00                DCB      0
000107  00                DCB      0
                  |L18.264|
                          DCD      xyz_pars
                  |L18.268|
00010c  4155544f          DCB      "AUTO",0
000110  00      
000111  00                DCB      0
000112  00                DCB      0
000113  00                DCB      0
                  |L18.276|
000114  53544152          DCB      "START:",0
000118  543a00  
00011b  00                DCB      0
                  |L18.284|
00011c  2530312e          DCB      "%01.3fg",0
000120  33666700
                  |L18.292|
000124  53544f50          DCB      "STOP:",0
000128  3a00    
00012a  00                DCB      0
00012b  00                DCB      0
                  |L18.300|
00012c  53455400          DCB      "SET",0
                  |L18.304|
000130  54494d45          DCB      "TIME:",0
000134  3a00    
000136  00                DCB      0
000137  00                DCB      0
                  |L18.312|
000138  25647300          DCB      "%ds",0
                  |L18.316|
00013c  46494c54          DCB      "FILTER:",0
000140  45523a00
                  |L18.324|
000144  4e6f00            DCB      "No",0
000147  00                DCB      0
                  |L18.328|
000148  3230487a          DCB      "20Hz",0
00014c  00      
00014d  00                DCB      0
00014e  00                DCB      0
00014f  00                DCB      0
                  |L18.336|
000150  3330487a          DCB      "30Hz",0
000154  00      
000155  00                DCB      0
000156  00                DCB      0
000157  00                DCB      0
                  |L18.344|
000158  3530487a          DCB      "50Hz",0
00015c  00      
00015d  00                DCB      0
00015e  00                DCB      0
00015f  00                DCB      0
                  |L18.352|
000160  31303048          DCB      "100Hz",0
000164  7a00    
000166  00                DCB      0
000167  00                DCB      0
                  |L18.360|
000168  32303048          DCB      "200Hz",0
00016c  7a00    
00016e  00                DCB      0
00016f  00                DCB      0

                          AREA ||i.disp_titles||, CODE, READONLY, ALIGN=2

                  disp_titles PROC
;;;1032   
;;;1033   void disp_titles(void)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;1034   {
;;;1035   	int x,y,det;
;;;1036   	GUI_COLOR color;
;;;1037   	const GUI_FONT *pfont;
;;;1038   	pfont = GUI_GetFont();
000004  f7fffffe          BL       GUI_GetFont
000008  4680              MOV      r8,r0
;;;1039   
;;;1040   	color = GUI_GetColor();
00000a  f7fffffe          BL       GUI_GetColor
00000e  4606              MOV      r6,r0
;;;1041   	x = 10;
000010  240a              MOVS     r4,#0xa
;;;1042   	y = 420-96;
000012  f44f75a2          MOV      r5,#0x144
;;;1043   	det = 78*1.5;
;;;1044   
;;;1045   	GUI_SetColor(GUI_WHITE);
000016  f06f407f          MVN      r0,#0xff000000
00001a  f7fffffe          BL       GUI_SetColor
;;;1046   	GUI_SetFont(&GUI_Font8x16);
00001e  481e              LDR      r0,|L19.152|
000020  f7fffffe          BL       GUI_SetFont
;;;1047   	
;;;1048   	GUI_DispStringAt("Za(Max)_m2/s|", x+det*0,y);
000024  462a              MOV      r2,r5
000026  4621              MOV      r1,r4
000028  a01c              ADR      r0,|L19.156|
00002a  f7fffffe          BL       GUI_DispStringAt
;;;1049   	GUI_DispStringAt("Za(AVE)_m2/s|", x+det*1,y);
00002e  217f              MOVS     r1,#0x7f
000030  462a              MOV      r2,r5
000032  a01e              ADR      r0,|L19.172|
000034  f7fffffe          BL       GUI_DispStringAt
;;;1050   	GUI_DispStringAt("Za(TIME)_s|", x+det*2,y);
000038  21f4              MOVS     r1,#0xf4
00003a  462a              MOV      r2,r5
00003c  a01f              ADR      r0,|L19.188|
00003e  f7fffffe          BL       GUI_DispStringAt
;;;1051   	GUI_DispStringAt("Zd(Max)_m2/s|", x+det*3,y);
000042  f2401769          MOV      r7,#0x169
000046  462a              MOV      r2,r5
000048  4639              MOV      r1,r7
00004a  a01f              ADR      r0,|L19.200|
00004c  f7fffffe          BL       GUI_DispStringAt
;;;1052   	GUI_DispStringAt("Zd(AVE)_m2/s|", x+det*4,y);
000050  f44f71ef          MOV      r1,#0x1de
000054  462a              MOV      r2,r5
000056  a020              ADR      r0,|L19.216|
000058  f7fffffe          BL       GUI_DispStringAt
;;;1053   
;;;1054   	GUI_DispStringAt("Zd(TIME)_s|", x+det*0,y+64);
00005c  f44f75c2          MOV      r5,#0x184
000060  462a              MOV      r2,r5
000062  4621              MOV      r1,r4
000064  a020              ADR      r0,|L19.232|
000066  f7fffffe          BL       GUI_DispStringAt
;;;1055   	GUI_DispStringAt("Z(Max)_m2/s|", x+det*1,y+64);
00006a  217f              MOVS     r1,#0x7f
00006c  462a              MOV      r2,r5
00006e  a021              ADR      r0,|L19.244|
000070  f7fffffe          BL       GUI_DispStringAt
;;;1056   	GUI_DispStringAt("X(Max)_m2/s|", x+det*2,y+64);
000074  21f4              MOVS     r1,#0xf4
000076  462a              MOV      r2,r5
000078  a022              ADR      r0,|L19.260|
00007a  f7fffffe          BL       GUI_DispStringAt
;;;1057   	GUI_DispStringAt("Y(Max)_m2/s|", x+det*3,y+64);
00007e  462a              MOV      r2,r5
000080  4639              MOV      r1,r7
000082  a024              ADR      r0,|L19.276|
000084  f7fffffe          BL       GUI_DispStringAt
;;;1058   	
;;;1059   	GUI_SetColor(color);
000088  4630              MOV      r0,r6
00008a  f7fffffe          BL       GUI_SetColor
;;;1060   	GUI_SetFont(pfont);
00008e  4640              MOV      r0,r8
000090  e8bd41f0          POP      {r4-r8,lr}
000094  f7ffbffe          B.W      GUI_SetFont
;;;1061   }
;;;1062   
                          ENDP

                  |L19.152|
                          DCD      GUI_Font8x16
                  |L19.156|
00009c  5a61284d          DCB      "Za(Max)_m2/s|",0
0000a0  6178295f
0000a4  6d322f73
0000a8  7c00    
0000aa  00                DCB      0
0000ab  00                DCB      0
                  |L19.172|
0000ac  5a612841          DCB      "Za(AVE)_m2/s|",0
0000b0  5645295f
0000b4  6d322f73
0000b8  7c00    
0000ba  00                DCB      0
0000bb  00                DCB      0
                  |L19.188|
0000bc  5a612854          DCB      "Za(TIME)_s|",0
0000c0  494d4529
0000c4  5f737c00
                  |L19.200|
0000c8  5a64284d          DCB      "Zd(Max)_m2/s|",0
0000cc  6178295f
0000d0  6d322f73
0000d4  7c00    
0000d6  00                DCB      0
0000d7  00                DCB      0
                  |L19.216|
0000d8  5a642841          DCB      "Zd(AVE)_m2/s|",0
0000dc  5645295f
0000e0  6d322f73
0000e4  7c00    
0000e6  00                DCB      0
0000e7  00                DCB      0
                  |L19.232|
0000e8  5a642854          DCB      "Zd(TIME)_s|",0
0000ec  494d4529
0000f0  5f737c00
                  |L19.244|
0000f4  5a284d61          DCB      "Z(Max)_m2/s|",0
0000f8  78295f6d
0000fc  322f737c
000100  00      
000101  00                DCB      0
000102  00                DCB      0
000103  00                DCB      0
                  |L19.260|
000104  58284d61          DCB      "X(Max)_m2/s|",0
000108  78295f6d
00010c  322f737c
000110  00      
000111  00                DCB      0
000112  00                DCB      0
000113  00                DCB      0
                  |L19.276|
000114  59284d61          DCB      "Y(Max)_m2/s|",0
000118  78295f6d
00011c  322f737c
000120  00      
000121  00                DCB      0
000122  00                DCB      0
000123  00                DCB      0

                          AREA ||i.draw_cm_s2||, CODE, READONLY, ALIGN=1

                  draw_cm_s2 PROC
;;;1358   
;;;1359   void draw_cm_s2(int z_judge_cm_s2,int xy_judge_cm_s2)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;1360   {
000004  b086              SUB      sp,sp,#0x18
000006  460c              MOV      r4,r1
;;;1361   	int zy1,zy2,xy_y1,xy_y2;
;;;1362   	TPoint z1_ps,xy1_ps,z1_pe,xy1_pe,z2_ps,xy2_ps,z2_pe,xy2_pe;
;;;1363   
;;;1364   	get_loc(&zy1,SCALE_Z_ACC_MIDDLE,z_judge_cm_s2,1);
000008  f7fffffe          BL       __aeabi_i2f
00000c  4605              MOV      r5,r0
00000e  4602              MOV      r2,r0
000010  2301              MOVS     r3,#1
000012  2157              MOVS     r1,#0x57
000014  a804              ADD      r0,sp,#0x10
000016  f7fffffe          BL       get_loc
;;;1365   	get_loc(&zy2,SCALE_Z_ACC_MIDDLE,z_judge_cm_s2,-1);
00001a  23ff              MOVS     r3,#0xff
00001c  462a              MOV      r2,r5
00001e  2157              MOVS     r1,#0x57
000020  a801              ADD      r0,sp,#4
000022  f7fffffe          BL       get_loc
;;;1366   	
;;;1367   	get_loc(&xy_y1,SCALE_X_ACC_MIDDLE,xy_judge_cm_s2,1);
000026  4620              MOV      r0,r4
000028  f7fffffe          BL       __aeabi_i2f
00002c  4604              MOV      r4,r0
00002e  4602              MOV      r2,r0
000030  2301              MOVS     r3,#1
000032  21d7              MOVS     r1,#0xd7
000034  a802              ADD      r0,sp,#8
000036  f7fffffe          BL       get_loc
;;;1368   	get_loc(&xy_y2,SCALE_X_ACC_MIDDLE,xy_judge_cm_s2,-1);
00003a  23ff              MOVS     r3,#0xff
00003c  4622              MOV      r2,r4
00003e  21d7              MOVS     r1,#0xd7
000040  a803              ADD      r0,sp,#0xc
000042  f7fffffe          BL       get_loc
;;;1369   	
;;;1370   	z1_ps.x = SCALE_X_START;
;;;1371   	z1_ps.y = zy1;
;;;1372   
;;;1373   	z1_pe.x = SCALE_X_END;
;;;1374   	z1_pe.y = zy1;
;;;1375   	
;;;1376   	z2_ps.x = SCALE_X_START;
;;;1377   	z2_ps.y = zy2;
;;;1378   
;;;1379   	z2_pe.x = SCALE_X_END;
;;;1380   	z2_pe.y = zy2;
;;;1381   
;;;1382   	xy1_ps.x = SCALE_X_START;
;;;1383   	xy1_ps.y = xy_y1;
;;;1384   
;;;1385   	xy1_pe.x = SCALE_X_END;
;;;1386   	xy1_pe.y = xy_y1;
;;;1387   
;;;1388   	xy2_ps.x = SCALE_X_START;
;;;1389       xy2_ps.y = xy_y2;
;;;1390   
;;;1391   	xy2_pe.x = SCALE_X_END;
;;;1392   	xy2_pe.y = xy_y2;
;;;1393   
;;;1394   	draw_line_at(z1_ps,z1_pe,GUI_LS_DASH);
000046  e9dd6103          LDRD     r6,r1,[sp,#0xc]
00004a  e9dd4501          LDRD     r4,r5,[sp,#4]
00004e  2301              MOVS     r3,#1
000050  f04f0814          MOV      r8,#0x14              ;1370
000054  f44f771b          MOV      r7,#0x26c             ;1373
000058  9300              STR      r3,[sp,#0]
00005a  460b              MOV      r3,r1
00005c  463a              MOV      r2,r7
00005e  4640              MOV      r0,r8
000060  f7fffffe          BL       draw_line_at
;;;1395   	draw_line_at(z2_ps,z2_pe,GUI_LS_DASH);
000064  2301              MOVS     r3,#1
000066  9300              STR      r3,[sp,#0]
000068  4623              MOV      r3,r4
00006a  463a              MOV      r2,r7
00006c  4621              MOV      r1,r4
00006e  4640              MOV      r0,r8
000070  f7fffffe          BL       draw_line_at
;;;1396   
;;;1397   	draw_line_at(xy1_ps,xy1_pe,GUI_LS_DASH);
000074  2301              MOVS     r3,#1
000076  9300              STR      r3,[sp,#0]
000078  462b              MOV      r3,r5
00007a  463a              MOV      r2,r7
00007c  4629              MOV      r1,r5
00007e  4640              MOV      r0,r8
000080  f7fffffe          BL       draw_line_at
;;;1398   	draw_line_at(xy2_ps,xy2_pe,GUI_LS_DASH);
000084  2301              MOVS     r3,#1
000086  9300              STR      r3,[sp,#0]
000088  4633              MOV      r3,r6
00008a  463a              MOV      r2,r7
00008c  4631              MOV      r1,r6
00008e  4640              MOV      r0,r8
000090  f7fffffe          BL       draw_line_at
;;;1399   
;;;1400   }
000094  b006              ADD      sp,sp,#0x18
000096  e8bd81f0          POP      {r4-r8,pc}
;;;1401   
                          ENDP


                          AREA ||i.draw_fft_scale||, CODE, READONLY, ALIGN=2

                  draw_fft_scale PROC
;;;922    
;;;923    void draw_fft_scale(void)
000000  b570              PUSH     {r4-r6,lr}
;;;924    {
;;;925    	TSEPoint tsepoint;
;;;926    	TScale tscale;
;;;927    	char x_unit[]="X /DIV HZ:";
000002  a024              ADR      r0,|L21.148|
000004  b094              SUB      sp,sp,#0x50           ;924
000006  e9d01200          LDRD     r1,r2,[r0,#0]
00000a  6880              LDR      r0,[r0,#8]
00000c  9110              STR      r1,[sp,#0x40]
00000e  e9cd2011          STRD     r2,r0,[sp,#0x44]
;;;928    	char y_unit[]="Y /DIV RANG:";
000012  a023              ADR      r0,|L21.160|
;;;929    
;;;930    	tscale.x_pix_size = XYZ_SCALE_X_SIZE-88;// 凑到0.5div/hz 每格 512
;;;931    	tscale.y_pix_size = XYZ_SCALE_Y_SIZE;    
;;;932    
;;;933    	tscale.disp_text_p0.x=480;
;;;934    	tscale.disp_text_p0.y=460;
;;;935    	
;;;936    	tscale.disp_text_p1.x = 600;
;;;937    	tscale.disp_text_p1.y = 460;
;;;938    	
;;;939        tscale.unit_x = x_unit;
;;;940    	tscale.unit_y = y_unit;
;;;941    	
;;;942    	tscale.y_data_max = FFT_SCALE_Y_MAX;
;;;943    
;;;944    	tscale.x_data_max = FFT_SCALE_X_MAX;
;;;945    
;;;946    	// start_point 对应实际的液晶坐标
;;;947    	tsepoint.start_point.x = XYZ_SCALE_X_START;
;;;948    	tsepoint.start_point.y = XYZ_SCALE_Y_END;
;;;949    	tsepoint.end_point.x = tsepoint.start_point.x + XYZ_SCALE_X_SIZE-88;//凑到0.5div/hz 每格 512
;;;950    	tsepoint.end_point.y = XYZ_SCALE_Y_END;
;;;951    	draw_scale(tsepoint,0xffff,0);		//X
000014  f64f76ff          MOV      r6,#0xffff
000018  e890000e          LDM      r0,{r1-r3}            ;928
00001c  68c0              LDR      r0,[r0,#0xc]          ;928
00001e  f2401517          MOV      r5,#0x117             ;948
000022  e9cd300e          STRD     r3,r0,[sp,#0x38]      ;928
000026  f44f7000          MOV      r0,#0x200             ;930
00002a  9002              STR      r0,[sp,#8]            ;931
00002c  f44f70b0          MOV      r0,#0x160             ;931
000030  9003              STR      r0,[sp,#0xc]          ;933
000032  e9cd120c          STRD     r1,r2,[sp,#0x30]      ;934
000036  f44f70f0          MOV      r0,#0x1e0             ;933
00003a  9006              STR      r0,[sp,#0x18]         ;934
00003c  f44f70e6          MOV      r0,#0x1cc             ;934
000040  f44f7116          MOV      r1,#0x258             ;936
000044  e9cd0107          STRD     r0,r1,[sp,#0x1c]      ;936
000048  9009              STR      r0,[sp,#0x24]         ;939
00004a  a810              ADD      r0,sp,#0x40           ;939
00004c  900a              STR      r0,[sp,#0x28]         ;940
00004e  a80c              ADD      r0,sp,#0x30           ;940
000050  900b              STR      r0,[sp,#0x2c]         ;942
000052  4817              LDR      r0,|L21.176|
000054  9005              STR      r0,[sp,#0x14]         ;944
000056  2300              MOVS     r3,#0
000058  e9cd6300          STRD     r6,r3,[sp,#0]
00005c  f04f4087          MOV      r0,#0x43800000        ;944
000060  2414              MOVS     r4,#0x14              ;947
000062  9004              STR      r0,[sp,#0x10]
000064  f44f7205          MOV      r2,#0x214             ;949
000068  462b              MOV      r3,r5
00006a  4629              MOV      r1,r5
00006c  4620              MOV      r0,r4
00006e  f7fffffe          BL       draw_scale
;;;952    
;;;953    	tsepoint.start_point.x = XYZ_SCALE_X_START;
;;;954    	tsepoint.start_point.y = XYZ_SCALE_Y_END;
;;;955    	tsepoint.end_point.x = XYZ_SCALE_X_START;
;;;956    	tsepoint.end_point.y = tsepoint.start_point.y - XYZ_SCALE_Y_SIZE;
;;;957    	draw_scale(tsepoint,0xffff,0);		//Y
000072  2300              MOVS     r3,#0
000074  e9cd6300          STRD     r6,r3,[sp,#0]
000078  f06f0048          MVN      r0,#0x48              ;956
00007c  4603              MOV      r3,r0
00007e  4622              MOV      r2,r4
000080  4629              MOV      r1,r5
000082  4620              MOV      r0,r4
000084  f7fffffe          BL       draw_scale
;;;958    
;;;959    	scale_set(&tscale);
000088  a802              ADD      r0,sp,#8
00008a  f7fffffe          BL       scale_set
;;;960    }
00008e  b014              ADD      sp,sp,#0x50
000090  bd70              POP      {r4-r6,pc}
;;;961    
                          ENDP

000092  0000              DCW      0x0000
                  |L21.148|
000094  58202f44          DCB      "X /DIV HZ:",0
000098  49562048
00009c  5a3a00  
00009f  00                DCB      0
                  |L21.160|
0000a0  59202f44          DCB      "Y /DIV RANG:",0
0000a4  49562052
0000a8  414e473a
0000ac  00      
0000ad  00                DCB      0
0000ae  00                DCB      0
0000af  00                DCB      0
                  |L21.176|
                          DCD      0x43b00000

                          AREA ||i.draw_scale_y||, CODE, READONLY, ALIGN=2

                  draw_scale_y PROC
;;;668    
;;;669    void draw_scale_y(int x0, int y0,int y1)
000000  e92d5fff          PUSH     {r0-r12,lr}
;;;670    {
000004  4605              MOV      r5,r0
000006  460c              MOV      r4,r1
000008  4616              MOV      r6,r2
;;;671    	int i,current_size,current_y = y0;
;;;672    	TSEPoint tsepoint;
;;;673    
;;;674    	GUI_SetFont(&GUI_Font6x8);
00000a  4855              LDR      r0,|L22.352|
00000c  f7fffffe          BL       GUI_SetFont
;;;675    	GUI_DrawVLine(x0,y0,y1);
000010  4632              MOV      r2,r6
000012  4621              MOV      r1,r4
000014  4628              MOV      r0,r5
000016  f7fffffe          BL       GUI_DrawVLine
;;;676    	for(i=0; i<3; i++)
;;;677    	{   
;;;678    		if(i == 0) 
;;;679    		{
;;;680    			current_size = SCALE_Z_SPEED_SIZE;
;;;681    			GUI_DispStringAt("2g",x0-15,current_y-5);
;;;682    			GUI_DispStringAt("x_m/s",SCALE_X_START+SCALE_X_SIZE + 10,current_y-5);
;;;683    
;;;684    			GUI_DispStringAt("0g",x0-15,current_y +SCALE_Z_ACC_SIZE/2-2);
;;;685    			GUI_DispStringAt("x_m/s",SCALE_X_START+SCALE_X_SIZE + 10,current_y +SCALE_Z_ACC_SIZE/2-2);
;;;686    
;;;687    			GUI_DispStringAt("-2g",x0-20,current_y +SCALE_Z_ACC_SIZE-5);
00001a  f1a50014          SUB      r0,r5,#0x14
00001e  9001              STR      r0,[sp,#4]            ;681
000020  1d40              ADDS     r0,r0,#5              ;681
000022  2600              MOVS     r6,#0                 ;676
;;;688    			GUI_DispStringAt("x_m/s",SCALE_X_START+SCALE_X_SIZE + 10,current_y +SCALE_Z_ACC_SIZE-5);
;;;689    			GUI_DispStringAt("Z_a_v",SCALE_X_START+SCALE_X_SIZE + 10,current_y +SCALE_Z_ACC_SIZE/2-2);
;;;690    		}
;;;691    		else if( i== 1)
;;;692    		{
;;;693    			current_size = SCALE_Z_ACC_SIZE;
;;;694    			current_y    += SCALE_Z_SPEED_SIZE;
;;;695    			GUI_DispStringAt("2g",x0-15,current_y+4);
;;;696    			GUI_DispStringAt("0g",x0-15,current_y +SCALE_Z_ACC_SIZE/2-2);
;;;697    			GUI_DispStringAt("XYa_m2/s",SCALE_X_START+SCALE_X_SIZE + 10,current_y +SCALE_Z_ACC_SIZE/2-2);
;;;698    			GUI_DispStringAt("-2g",x0-20,current_y +SCALE_Z_ACC_SIZE-5);
;;;699    		}
;;;700    		else
;;;701    		{
;;;702    			/*
;;;703    			current_size =SCALE_XY_ACC_SIZE;
;;;704    			current_y    += SCALE_Z_ACC_SIZE;
;;;705    			GUI_DispStringAt("2g",x0-15,current_y+4);
;;;706    			GUI_DispStringAt("0g",x0-15,current_y +SCALE_XY_ACC_SIZE/2-2);
;;;707    			GUI_DispStringAt("Ya_m2/s",SCALE_X_START+SCALE_X_SIZE + 10,current_y +SCALE_Z_ACC_SIZE/2-2);
;;;708    			GUI_DispStringAt("-2g",x0-20,current_y +SCALE_XY_ACC_SIZE-4);
;;;709    			*/
;;;710    		}
;;;711    		GUI_DrawHLine(current_y,x0,x0+SCALE_X_SIZE);
;;;712    		GUI_DrawHLine(current_y+current_size/8,x0,x0+5);
;;;713    		GUI_DrawHLine(current_y+2*(current_size/8),x0,x0+10);
000024  9000              STR      r0,[sp,#0]
000026  3019              ADDS     r0,r0,#0x19
000028  f2402a76          MOV      r10,#0x276            ;682
00002c  f5057b16          ADD      r11,r5,#0x258         ;711
000030  9002              STR      r0,[sp,#8]            ;678
000032  e003              B        |L22.60|
                  |L22.52|
000034  b116              CBZ      r6,|L22.60|
000036  2e01              CMP      r6,#1                 ;691
000038  d143              BNE      |L22.194|
00003a  e028              B        |L22.142|
                  |L22.60|
00003c  f04f0880          MOV      r8,#0x80              ;680
000040  1f62              SUBS     r2,r4,#5              ;681
000042  a048              ADR      r0,|L22.356|
000044  9900              LDR      r1,[sp,#0]            ;681
000046  f7fffffe          BL       GUI_DispStringAt
00004a  1f62              SUBS     r2,r4,#5              ;682
00004c  4657              MOV      r7,r10                ;682
00004e  4651              MOV      r1,r10                ;682
000050  a045              ADR      r0,|L22.360|
000052  f7fffffe          BL       GUI_DispStringAt
000056  f104023e          ADD      r2,r4,#0x3e           ;684
00005a  9203              STR      r2,[sp,#0xc]          ;684
00005c  a044              ADR      r0,|L22.368|
00005e  9900              LDR      r1,[sp,#0]            ;684
000060  f7fffffe          BL       GUI_DispStringAt
000064  4639              MOV      r1,r7                 ;685
000066  a040              ADR      r0,|L22.360|
000068  9a03              LDR      r2,[sp,#0xc]          ;685
00006a  f7fffffe          BL       GUI_DispStringAt
00006e  f104027b          ADD      r2,r4,#0x7b           ;687
000072  4691              MOV      r9,r2                 ;687
000074  a03f              ADR      r0,|L22.372|
000076  9901              LDR      r1,[sp,#4]            ;687
000078  f7fffffe          BL       GUI_DispStringAt
00007c  464a              MOV      r2,r9                 ;687
00007e  4639              MOV      r1,r7                 ;688
000080  a039              ADR      r0,|L22.360|
000082  f7fffffe          BL       GUI_DispStringAt
000086  4639              MOV      r1,r7                 ;689
000088  a03b              ADR      r0,|L22.376|
00008a  9a03              LDR      r2,[sp,#0xc]          ;689
00008c  e017              B        |L22.190|
                  |L22.142|
00008e  3480              ADDS     r4,r4,#0x80           ;694
000090  f04f0880          MOV      r8,#0x80              ;693
000094  1d22              ADDS     r2,r4,#4              ;695
000096  a033              ADR      r0,|L22.356|
000098  9900              LDR      r1,[sp,#0]            ;695
00009a  f7fffffe          BL       GUI_DispStringAt
00009e  f104023e          ADD      r2,r4,#0x3e           ;696
0000a2  4617              MOV      r7,r2                 ;696
0000a4  a032              ADR      r0,|L22.368|
0000a6  9900              LDR      r1,[sp,#0]            ;696
0000a8  f7fffffe          BL       GUI_DispStringAt
0000ac  463a              MOV      r2,r7                 ;696
0000ae  4651              MOV      r1,r10                ;697
0000b0  a033              ADR      r0,|L22.384|
0000b2  f7fffffe          BL       GUI_DispStringAt
0000b6  f104027b          ADD      r2,r4,#0x7b           ;698
0000ba  a02e              ADR      r0,|L22.372|
0000bc  9901              LDR      r1,[sp,#4]            ;698
                  |L22.190|
0000be  f7fffffe          BL       GUI_DispStringAt
                  |L22.194|
0000c2  465a              MOV      r2,r11                ;689
0000c4  4629              MOV      r1,r5                 ;711
0000c6  4620              MOV      r0,r4                 ;711
0000c8  f7fffffe          BL       GUI_DrawHLine
0000cc  ea4f71e8          ASR      r1,r8,#31             ;712
0000d0  eb087751          ADD      r7,r8,r1,LSR #29      ;712
0000d4  eb0400e7          ADD      r0,r4,r7,ASR #3       ;712
0000d8  1d6a              ADDS     r2,r5,#5              ;712
0000da  4629              MOV      r1,r5                 ;712
0000dc  f7fffffe          BL       GUI_DrawHLine
0000e0  10ff              ASRS     r7,r7,#3
0000e2  eb040047          ADD      r0,r4,r7,LSL #1
0000e6  4629              MOV      r1,r5
0000e8  9a02              LDR      r2,[sp,#8]
0000ea  f7fffffe          BL       GUI_DrawHLine
;;;714    		GUI_DrawHLine(current_y+3*(current_size/8),x0,x0+5);
0000ee  eb070947          ADD      r9,r7,r7,LSL #1
0000f2  eb090004          ADD      r0,r9,r4
0000f6  1d6a              ADDS     r2,r5,#5
0000f8  4629              MOV      r1,r5
0000fa  f7fffffe          BL       GUI_DrawHLine
;;;715    		GUI_DrawHLine(current_y+4*(current_size/8),x0,x0+SCALE_X_SIZE);
0000fe  eb040087          ADD      r0,r4,r7,LSL #2
000102  465a              MOV      r2,r11
000104  4629              MOV      r1,r5
000106  f7fffffe          BL       GUI_DrawHLine
;;;716    		GUI_DrawHLine(current_y+5*(current_size/8),x0,x0+5);
00010a  eb070087          ADD      r0,r7,r7,LSL #2
00010e  4420              ADD      r0,r0,r4
000110  1d6a              ADDS     r2,r5,#5
000112  4629              MOV      r1,r5
000114  f7fffffe          BL       GUI_DrawHLine
;;;717    		GUI_DrawHLine(current_y+6*(current_size/8),x0,x0+10);
000118  eb040049          ADD      r0,r4,r9,LSL #1
00011c  4629              MOV      r1,r5
00011e  9a02              LDR      r2,[sp,#8]
000120  f7fffffe          BL       GUI_DrawHLine
;;;718    		GUI_DrawHLine(current_y+7*(current_size/8),x0,x0+5);
000124  ebc700c7          RSB      r0,r7,r7,LSL #3
000128  4420              ADD      r0,r0,r4
00012a  1d6a              ADDS     r2,r5,#5
00012c  4629              MOV      r1,r5
00012e  f7fffffe          BL       GUI_DrawHLine
000132  1c76              ADDS     r6,r6,#1              ;676
000134  2e03              CMP      r6,#3                 ;676
000136  f6ffaf7d          BLT      |L22.52|
;;;719    
;;;720    	}
;;;721    		tsepoint.start_point.x = x0;
;;;722    		tsepoint.start_point.y = current_y+8*(current_size/8);
00013a  ea4f71e8          ASR      r1,r8,#31
00013e  eb087051          ADD      r0,r8,r1,LSR #29
000142  f0200007          BIC      r0,r0,#7
;;;723    		tsepoint.end_point.x = tsepoint.start_point.x + SCALE_X_SIZE;//凑到0.5div/hz 每格 512
;;;724    		tsepoint.end_point.y = current_y+8*(current_size/8);
;;;725    		draw_scale(tsepoint,0xffff,0);		//X
000146  2300              MOVS     r3,#0
000148  f64f72ff          MOV      r2,#0xffff
00014c  1901              ADDS     r1,r0,r4              ;722
00014e  e9cd2300          STRD     r2,r3,[sp,#0]
000152  460b              MOV      r3,r1
000154  465a              MOV      r2,r11
000156  4628              MOV      r0,r5
000158  f7fffffe          BL       draw_scale
;;;726    }
00015c  e8bd9fff          POP      {r0-r12,pc}
;;;727    
                          ENDP

                  |L22.352|
                          DCD      GUI_Font6x8
                  |L22.356|
000164  326700            DCB      "2g",0
000167  00                DCB      0
                  |L22.360|
000168  785f6d2f          DCB      "x_m/s",0
00016c  7300    
00016e  00                DCB      0
00016f  00                DCB      0
                  |L22.368|
000170  306700            DCB      "0g",0
000173  00                DCB      0
                  |L22.372|
000174  2d326700          DCB      "-2g",0
                  |L22.376|
000178  5a5f615f          DCB      "Z_a_v",0
00017c  7600    
00017e  00                DCB      0
00017f  00                DCB      0
                  |L22.384|
000180  5859615f          DCB      "XYa_m2/s",0
000184  6d322f73
000188  00      
000189  00                DCB      0
00018a  00                DCB      0
00018b  00                DCB      0

                          AREA ||i.fir_init||, CODE, READONLY, ALIGN=2

                  fir_init PROC
;;;912    
;;;913    void fir_init(int get_id)
000000  b508              PUSH     {r3,lr}
;;;914    {
;;;915    	arm_fir_init_q15(&FIR_S,FIR_TAPS,&fir_coeffs[get_id-1][0],&FIR_State[0],FIR_BLOCK_SIZE);
000002  4906              LDR      r1,|L23.28|
000004  2320              MOVS     r3,#0x20
000006  eb011200          ADD      r2,r1,r0,LSL #4
00000a  9300              STR      r3,[sp,#0]
00000c  4b04              LDR      r3,|L23.32|
00000e  3a10              SUBS     r2,r2,#0x10
000010  2108              MOVS     r1,#8
000012  f1030050          ADD      r0,r3,#0x50
000016  f7fffffe          BL       arm_fir_init_q15
;;;916    }
00001a  bd08              POP      {r3,pc}
;;;917    
                          ENDP

                  |L23.28|
                          DCD      ||.data||+0x12
                  |L23.32|
                          DCD      ||.bss||+0xfa4

                          AREA ||i.get_base_ave||, CODE, READONLY, ALIGN=1

                  get_base_ave PROC
;;;1401   
;;;1402   void get_base_ave(TXYZ_Result* xyz_res)
000000  4770              BX       lr
;;;1403   {
;;;1404   	
;;;1405   
;;;1406   }
;;;1407   
                          ENDP


                          AREA ||i.get_data_from_sd||, CODE, READONLY, ALIGN=1

                  get_data_from_sd PROC
;;;917    
;;;918    void get_data_from_sd(signed short* data ,unsigned int loc1,unsigned int loc2, unsigned int size,EGetDataMode mode)
000000  4770              BX       lr
;;;919    {
;;;920    
;;;921    }
;;;922    
                          ENDP


                          AREA ||i.save_xyz||, CODE, READONLY, ALIGN=2

                  save_xyz PROC
;;;1283   
;;;1284   int save_xyz(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;1285   {
;;;1286   	int i,j,k;
;;;1287   	unsigned char xyz_data[3*2*400];
;;;1288   	unsigned int first_part,second_part;
;;;1289   	
;;;1290   	if(Z_acc.got_acc_num - Z_acc.used_acc_num >= tdisp_acc_struct.acc_nums_of_one_pixel)
000004  f8df81b4          LDR      r8,|L26.444|
000008  f6ad1d64          SUB      sp,sp,#0x964          ;1285
00000c  e9d81000          LDRD     r1,r0,[r8,#0]
000010  1a0a              SUBS     r2,r1,r0
000012  496b              LDR      r1,|L26.448|
000014  6809              LDR      r1,[r1,#0]  ; tdisp_acc_struct
000016  428a              CMP      r2,r1
000018  d37e              BCC      |L26.280|
;;;1291   	{
;;;1292   		if((Z_acc.used_acc_num & (MMA845X_Z_ACC_BUF - 1)) + tdisp_acc_struct.acc_nums_of_one_pixel > MMA845X_Z_ACC_BUF)
;;;1293   		{
;;;1294   		 first_part = MMA845X_Z_ACC_BUF - (Z_acc.used_acc_num & (MMA845X_Z_ACC_BUF - 1));
;;;1295   		 second_part = (tdisp_acc_struct.acc_nums_of_one_pixel-first_part);
;;;1296   		 
;;;1297   		 for(i=0;i<(first_part*2);i++)
;;;1298   		 {
;;;1299   		 xyz_data[i] = X_acc.acc_buf[X_acc.used_acc_num & (MMA845X_X_ACC_BUF - 1)+i];
00001a  f8dfb1a8          LDR      r11,|L26.452|
;;;1300   		 i++;
;;;1301   		 xyz_data[i] =  X_acc.acc_buf[X_acc.used_acc_num & (MMA845X_X_ACC_BUF - 1)+i];
;;;1302   		 i--;
;;;1303   		 
;;;1304   		 xyz_data[i] =  Y_acc.acc_buf[Y_acc.used_acc_num & (MMA845X_Y_ACC_BUF - 1)+i];
00001e  f8dfe1a8          LDR      lr,|L26.456|
000022  f3c00409          UBFX     r4,r0,#0,#10          ;1292
000026  1865              ADDS     r5,r4,r1              ;1292
000028  f8de2004          LDR      r2,[lr,#4]            ;1299
00002c  f8db3004          LDR      r3,[r11,#4]           ;1292
000030  46ea              MOV      r10,sp                ;1287
000032  f5b56f80          CMP      r5,#0x400             ;1292
000036  d97b              BLS      |L26.304|
000038  f5c46880          RSB      r8,r4,#0x400          ;1294
00003c  eba10408          SUB      r4,r1,r8              ;1295
000040  f8cd4960          STR      r4,[sp,#0x960]        ;1297
000044  2400              MOVS     r4,#0                 ;1297
000046  e039              B        |L26.188|
                  |L26.72|
000048  f20435ff          ADD      r5,r4,#0x3ff          ;1299
00004c  401d              ANDS     r5,r5,r3              ;1299
00004e  eb0b0545          ADD      r5,r11,r5,LSL #1      ;1299
000052  892f              LDRH     r7,[r5,#8]            ;1299
000054  f80a7004          STRB     r7,[r10,r4]           ;1299
000058  1c64              ADDS     r4,r4,#1              ;1300
00005a  f2043cff          ADD      r12,r4,#0x3ff         ;1301
00005e  ea03070c          AND      r7,r3,r12             ;1301
000062  eb0b0647          ADD      r6,r11,r7,LSL #1      ;1301
000066  4655              MOV      r5,r10                ;1299
000068  8936              LDRH     r6,[r6,#8]            ;1301
00006a  f80a6004          STRB     r6,[r10,r4]           ;1301
00006e  1e64              SUBS     r4,r4,#1              ;1302
000070  f2043cff          ADD      r12,r4,#0x3ff
000074  ea02070c          AND      r7,r2,r12
000078  eb0e0747          ADD      r7,lr,r7,LSL #1
00007c  893f              LDRH     r7,[r7,#8]
00007e  f80a7004          STRB     r7,[r10,r4]
;;;1305   		 i++;
000082  1c64              ADDS     r4,r4,#1
;;;1306   
;;;1307   		 xyz_data[i] =  Y_acc.acc_buf[Y_acc.used_acc_num & (MMA845X_Y_ACC_BUF - 1)+i];
000084  f2043cff          ADD      r12,r4,#0x3ff
000088  ea02070c          AND      r7,r2,r12
00008c  eb0e0647          ADD      r6,lr,r7,LSL #1
;;;1308   		 i--;
000090  1e67              SUBS     r7,r4,#1
000092  8936              LDRH     r6,[r6,#8]            ;1307
000094  552e              STRB     r6,[r5,r4]            ;1307
;;;1309   
;;;1310   		 xyz_data[i] =  Z_acc.acc_buf[Z_acc.used_acc_num & (MMA845X_Z_ACC_BUF - 1)+i];
000096  4e49              LDR      r6,|L26.444|
;;;1311   		 i++;
;;;1312   		 xyz_data[i] =  Z_acc.acc_buf[Z_acc.used_acc_num & (MMA845X_Z_ACC_BUF - 1)+i];
;;;1313   		 
;;;1314   		 }
;;;1315   
;;;1316   		 i--;
;;;1317   		 i--;
;;;1318   		 
;;;1319   		 for(j=0;j<(second_part*2);j++)
;;;1320   		 {
;;;1321   		 xyz_data[i+j] = X_acc.acc_buf[j];
;;;1322   		 j++;
;;;1323   		 xyz_data[i+j] = X_acc.acc_buf[j];
;;;1324   		 j--;
;;;1325   		 xyz_data[i+j] = Y_acc.acc_buf[j];
;;;1326   		 j++;
;;;1327   		 xyz_data[i+j] = Y_acc.acc_buf[j];
;;;1328   		 j--;
;;;1329   		 xyz_data[i+j] = Z_acc.acc_buf[j];
;;;1330   		 j++;
;;;1331   		 xyz_data[i+j] = Z_acc.acc_buf[j];
;;;1332   
;;;1333   		 }
;;;1334   
;;;1335   		}else{
;;;1336   		
;;;1337   		 for(i=0;i< tdisp_acc_struct.acc_nums_of_one_pixel*2;i++)
;;;1338   		 {
;;;1339   		 xyz_data[i] = X_acc.acc_buf[X_acc.used_acc_num & (MMA845X_X_ACC_BUF - 1)+i];
;;;1340   		 i++;
;;;1341   		 xyz_data[i] =  X_acc.acc_buf[X_acc.used_acc_num & (MMA845X_X_ACC_BUF - 1)+i];
;;;1342   		 i--;
;;;1343   		 
;;;1344   		 xyz_data[i] =  Y_acc.acc_buf[Y_acc.used_acc_num & (MMA845X_Y_ACC_BUF - 1)+i];
;;;1345   		 i++;
;;;1346   		 xyz_data[i] =  Y_acc.acc_buf[Y_acc.used_acc_num & (MMA845X_Y_ACC_BUF - 1)+i];
;;;1347   		 i--;
;;;1348   
;;;1349   		 xyz_data[i] =  Z_acc.acc_buf[Z_acc.used_acc_num & (MMA845X_Z_ACC_BUF - 1)+i];
;;;1350   		 i++;
;;;1351   		 xyz_data[i] =  Z_acc.acc_buf[Z_acc.used_acc_num & (MMA845X_Z_ACC_BUF - 1)+i];
;;;1352   		 
;;;1353   		 }
;;;1354   		}
;;;1355   	}
;;;1356   	xyz_file_data_save(xyz_data, tdisp_acc_struct.acc_nums_of_one_pixel);
;;;1357   }
000098  f20434fe          ADD      r4,r4,#0x3fe
00009c  4004              ANDS     r4,r4,r0              ;1310
00009e  eb060444          ADD      r4,r6,r4,LSL #1       ;1310
0000a2  8924              LDRH     r4,[r4,#8]            ;1310
0000a4  55ec              STRB     r4,[r5,r7]            ;1310
0000a6  1c7f              ADDS     r7,r7,#1              ;1311
0000a8  f20739ff          ADD      r9,r7,#0x3ff          ;1312
0000ac  ea000c09          AND      r12,r0,r9             ;1312
0000b0  eb06044c          ADD      r4,r6,r12,LSL #1      ;1312
0000b4  8924              LDRH     r4,[r4,#8]            ;1312
0000b6  f80a4007          STRB     r4,[r10,r7]           ;1312
0000ba  1c7c              ADDS     r4,r7,#1              ;1297
                  |L26.188|
0000bc  ebb40f48          CMP      r4,r8,LSL #1          ;1297
0000c0  d3c2              BCC      |L26.72|
0000c2  1ea4              SUBS     r4,r4,#2
0000c4  2000              MOVS     r0,#0                 ;1319
0000c6  e02d              B        |L26.292|
                  |L26.200|
0000c8  eb0b0340          ADD      r3,r11,r0,LSL #1      ;1321
0000cc  1825              ADDS     r5,r4,r0              ;1321
0000ce  891b              LDRH     r3,[r3,#8]            ;1321
0000d0  1c40              ADDS     r0,r0,#1              ;1322
0000d2  f80a3005          STRB     r3,[r10,r5]           ;1321
0000d6  eb0b0240          ADD      r2,r11,r0,LSL #1      ;1323
0000da  1823              ADDS     r3,r4,r0              ;1323
0000dc  8912              LDRH     r2,[r2,#8]            ;1323
0000de  1e40              SUBS     r0,r0,#1              ;1324
0000e0  f80a2003          STRB     r2,[r10,r3]           ;1323
0000e4  eb0e0340          ADD      r3,lr,r0,LSL #1       ;1325
0000e8  1825              ADDS     r5,r4,r0              ;1325
0000ea  891b              LDRH     r3,[r3,#8]            ;1325
0000ec  1c40              ADDS     r0,r0,#1              ;1326
0000ee  f80a3005          STRB     r3,[r10,r5]           ;1325
0000f2  eb0e0240          ADD      r2,lr,r0,LSL #1       ;1327
0000f6  1823              ADDS     r3,r4,r0              ;1327
0000f8  8912              LDRH     r2,[r2,#8]            ;1327
0000fa  f80a2003          STRB     r2,[r10,r3]           ;1327
0000fe  1e40              SUBS     r0,r0,#1              ;1328
000100  4a2e              LDR      r2,|L26.444|
000102  1825              ADDS     r5,r4,r0              ;1329
000104  eb020340          ADD      r3,r2,r0,LSL #1       ;1329
000108  1c40              ADDS     r0,r0,#1              ;1330
00010a  891b              LDRH     r3,[r3,#8]            ;1329
00010c  eb020240          ADD      r2,r2,r0,LSL #1       ;1331
000110  f80a3005          STRB     r3,[r10,r5]           ;1329
000114  8912              LDRH     r2,[r2,#8]            ;1331
000116  e001              B        |L26.284|
                  |L26.280|
000118  e048              B        |L26.428|
00011a  e009              B        |L26.304|
                  |L26.284|
00011c  1823              ADDS     r3,r4,r0              ;1331
00011e  1c40              ADDS     r0,r0,#1              ;1319
000120  f80a2003          STRB     r2,[r10,r3]           ;1331
                  |L26.292|
000124  f8dd2960          LDR      r2,[sp,#0x960]        ;1319
000128  ebb00f42          CMP      r0,r2,LSL #1          ;1319
00012c  d3cc              BCC      |L26.200|
00012e  e03d              B        |L26.428|
                  |L26.304|
000130  2400              MOVS     r4,#0                 ;1337
000132  e038              B        |L26.422|
                  |L26.308|
000134  f20435ff          ADD      r5,r4,#0x3ff          ;1339
000138  401d              ANDS     r5,r5,r3              ;1339
00013a  eb0b0545          ADD      r5,r11,r5,LSL #1      ;1339
00013e  892e              LDRH     r6,[r5,#8]            ;1339
000140  f80a6004          STRB     r6,[r10,r4]           ;1339
000144  1c64              ADDS     r4,r4,#1              ;1340
000146  f2043cff          ADD      r12,r4,#0x3ff         ;1341
00014a  ea03060c          AND      r6,r3,r12             ;1341
00014e  eb0b0646          ADD      r6,r11,r6,LSL #1      ;1341
000152  4655              MOV      r5,r10                ;1339
000154  8936              LDRH     r6,[r6,#8]            ;1341
000156  f80a6004          STRB     r6,[r10,r4]           ;1341
00015a  1e64              SUBS     r4,r4,#1              ;1342
00015c  f2043cff          ADD      r12,r4,#0x3ff         ;1344
000160  ea02070c          AND      r7,r2,r12             ;1344
000164  eb0e0747          ADD      r7,lr,r7,LSL #1       ;1344
000168  893f              LDRH     r7,[r7,#8]            ;1344
00016a  f80a7004          STRB     r7,[r10,r4]           ;1344
00016e  1c64              ADDS     r4,r4,#1              ;1345
000170  f2043cff          ADD      r12,r4,#0x3ff         ;1346
000174  ea02070c          AND      r7,r2,r12             ;1346
000178  eb0e0647          ADD      r6,lr,r7,LSL #1       ;1346
00017c  1e67              SUBS     r7,r4,#1              ;1347
00017e  8936              LDRH     r6,[r6,#8]            ;1346
000180  552e              STRB     r6,[r5,r4]            ;1346
000182  f20434fe          ADD      r4,r4,#0x3fe
000186  4004              ANDS     r4,r4,r0              ;1349
000188  eb080444          ADD      r4,r8,r4,LSL #1       ;1349
00018c  8924              LDRH     r4,[r4,#8]            ;1349
00018e  55ec              STRB     r4,[r5,r7]            ;1349
000190  1c7f              ADDS     r7,r7,#1              ;1350
000192  f20736ff          ADD      r6,r7,#0x3ff          ;1351
000196  ea000406          AND      r4,r0,r6              ;1351
00019a  eb080444          ADD      r4,r8,r4,LSL #1       ;1351
00019e  8926              LDRH     r6,[r4,#8]            ;1351
0001a0  f80a6007          STRB     r6,[r10,r7]           ;1351
0001a4  1c7c              ADDS     r4,r7,#1              ;1337
                  |L26.422|
0001a6  ebb40f41          CMP      r4,r1,LSL #1          ;1337
0001aa  d3c3              BCC      |L26.308|
                  |L26.428|
0001ac  4668              MOV      r0,sp                 ;1356
0001ae  f7fffffe          BL       xyz_file_data_save
0001b2  f60d1d64          ADD      sp,sp,#0x964
0001b6  e8bd8ff0          POP      {r4-r11,pc}
;;;1358   
                          ENDP

0001ba  0000              DCW      0x0000
                  |L26.444|
                          DCD      Z_acc
                  |L26.448|
                          DCD      ||.bss||+0x78c
                  |L26.452|
                          DCD      X_acc
                  |L26.456|
                          DCD      Y_acc

                          AREA ||i.time_base_inital||, CODE, READONLY, ALIGN=2

                  time_base_inital PROC
;;;728    
;;;729    void time_base_inital(void)
000000  b570              PUSH     {r4-r6,lr}
;;;730    {
;;;731    	time_base.A_pos = XYZ_SCALE_X_START+TIME_BASE_STEP;
000002  4c0b              LDR      r4,|L27.48|
000004  2119              MOVS     r1,#0x19
;;;732    	time_base.B_pos = XYZ_SCALE_X_END-TIME_BASE_STEP;
000006  f2402067          MOV      r0,#0x267
;;;733    #ifndef WIN_SIM
;;;734    	GUI_GetVLine(0, time_base.A_pos,XYZ_SCALE_Y_END,&time_base.A_color_value[0]);
00000a  e9c41000          STRD     r1,r0,[r4,#0]
00000e  f2401517          MOV      r5,#0x117
000012  f104030a          ADD      r3,r4,#0xa
000016  462a              MOV      r2,r5
000018  2000              MOVS     r0,#0
00001a  f7fffffe          BL       GUI_GetVLine
;;;735    	GUI_GetVLine(0, time_base.B_pos,XYZ_SCALE_Y_END,&time_base.B_color_value[0]);
00001e  f20433ca          ADD      r3,r4,#0x3ca
000022  462a              MOV      r2,r5
000024  6861              LDR      r1,[r4,#4]  ; time_base
000026  e8bd4070          POP      {r4-r6,lr}
00002a  2000              MOVS     r0,#0
00002c  f7ffbffe          B.W      GUI_GetVLine
;;;736    #endif
;;;737    
;;;738    }
;;;739    
                          ENDP

                  |L27.48|
                          DCD      ||.bss||

                          AREA ||i.view_fft||, CODE, READONLY, ALIGN=2

                  view_fft PROC
;;;976    
;;;977    void view_fft(signed short* buf)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;978    {
000004  f5ad6d80          SUB      sp,sp,#0x400
000008  4604              MOV      r4,r0
;;;979    	int i,j;
;;;980    	unsigned int color;
;;;981    	signed short data_buf[FFT_LENTH/2];
;;;982    	TSEPoint sepoint;
;;;983    	color = GUI_GetColor();
00000a  f7fffffe          BL       GUI_GetColor
00000e  4680              MOV      r8,r0
;;;984    	charge_button_fft_fun();
000010  f7fffffe          BL       charge_button_fft_fun
;;;985    	GUI_ClearRect(0,XYZ_SCALE_Y_START,XYZ_FFT_X_SIZE,YXZ_FFT_Y_SIZE);
000014  f240137b          MOV      r3,#0x17b
000018  f24022ad          MOV      r2,#0x2ad
00001c  2117              MOVS     r1,#0x17
00001e  2000              MOVS     r0,#0
000020  f7fffffe          BL       GUI_ClearRect
;;;986    	draw_fft_scale();
000024  f7fffffe          BL       draw_fft_scale
;;;987    	
;;;988    	for(i=0,j=0;i< FFT_LENTH;i++,j++)
000028  2100              MOVS     r1,#0
00002a  460a              MOV      r2,r1
00002c  466e              MOV      r6,sp                 ;981
00002e  f44f6c80          MOV      r12,#0x400
                  |L28.50|
;;;989    	{
;;;990    		if(abs(buf[i])>abs(buf[i+1]))
000032  eb040341          ADD      r3,r4,r1,LSL #1
000036  f9340011          LDRSH    r0,[r4,r1,LSL #1]
00003a  f9b33002          LDRSH    r3,[r3,#2]
00003e  1e05              SUBS     r5,r0,#0
000040  da00              BGE      |L28.68|
000042  4268              RSBS     r0,r5,#0
                  |L28.68|
000044  1e1f              SUBS     r7,r3,#0
000046  da00              BGE      |L28.74|
000048  425f              RSBS     r7,r3,#0
                  |L28.74|
00004a  42b8              CMP      r0,r7
00004c  dd01              BLE      |L28.82|
;;;991    		{
;;;992    		data_buf[j] = -buf[i];
00004e  4268              RSBS     r0,r5,#0
000050  e000              B        |L28.84|
                  |L28.82|
;;;993    		}else{
;;;994    		data_buf[j] = -buf[i+1];
000052  4258              RSBS     r0,r3,#0
                  |L28.84|
000054  f8260012          STRH     r0,[r6,r2,LSL #1]
000058  1c89              ADDS     r1,r1,#2              ;988
00005a  1c52              ADDS     r2,r2,#1              ;988
00005c  4561              CMP      r1,r12                ;988
00005e  dbe8              BLT      |L28.50|
;;;995    		}
;;;996    		i++;
;;;997    	}
;;;998    
;;;999    	GUI_SetColor(GUI_CYAN);
000060  4809              LDR      r0,|L28.136|
000062  f7fffffe          BL       GUI_SetColor
;;;1000   	GUI_DrawGraph(data_buf,FFT_LENTH/2,SCALE_X_START,XYZ_SCALE_Y_END);
000066  f2401317          MOV      r3,#0x117
00006a  2214              MOVS     r2,#0x14
00006c  f44f7100          MOV      r1,#0x200
000070  4668              MOV      r0,sp
000072  f7fffffe          BL       GUI_DrawGraph
;;;1001   	GUI_SetColor(color);
000076  4640              MOV      r0,r8
000078  f7fffffe          BL       GUI_SetColor
;;;1002   	charge_button_fft_fun();
00007c  f7fffffe          BL       charge_button_fft_fun
;;;1003   }
000080  f50d6d80          ADD      sp,sp,#0x400
000084  e8bd81f0          POP      {r4-r8,pc}
;;;1004   
                          ENDP

                  |L28.136|
                          DCD      0x00ffff00

                          AREA ||i.xyz_acc_home||, CODE, READONLY, ALIGN=2

                  xyz_acc_home PROC
;;;434    */
;;;435    void xyz_acc_home(WM_MESSAGE *pMsg) 
000000  e92d41fc          PUSH     {r2-r8,lr}
;;;436    { 
;;;437    	if(pMsg)
000004  b118              CBZ      r0,|L29.14|
;;;438    	{
;;;439    		WM_DeleteWindow(pMsg->hWin);
000006  f9b00004          LDRSH    r0,[r0,#4]
00000a  f7fffffe          BL       WM_DeleteWindow
                  |L29.14|
;;;440    	}
;;;441    //  GUI_SetColor(GUI_BLACK);
;;;442    	GUI_SetBkColor(GUI_BLACK);
00000e  2000              MOVS     r0,#0
000010  f7fffffe          BL       GUI_SetBkColor
;;;443    	WM_SetDesktopColor(GUI_BLACK);
000014  2000              MOVS     r0,#0
000016  f7fffffe          BL       WM_SetDesktopColor
;;;444    	GUI_Clear();
00001a  f7fffffe          BL       GUI_Clear
;;;445    	GUI_SetColor(GUI_YELLOW);
00001e  f64f70ff          MOV      r0,#0xffff
000022  f7fffffe          BL       GUI_SetColor
;;;446    	current_interface = XYZ_ACC_HOME;
000026  491a              LDR      r1,|L29.144|
000028  2068              MOVS     r0,#0x68
;;;447    
;;;448    //	draw_scale_y(SCALE_X_START,SCALE_Y_START,SCALE_Y_END);
;;;449    //	GUI_SetColor(GUI_WHITE);
;;;450    
;;;451    	Z_acc.acc_x_pose = SCALE_X_START;
00002a  4d1a              LDR      r5,|L29.148|
00002c  6008              STR      r0,[r1,#0]  ; current_interface
;;;452    	Z_acc.acc_y_pose = SCALE_Z_ACC_MIDDLE;
;;;453    
;;;454    	X_acc.acc_x_pose = SCALE_X_START;
00002e  f605021c          ADD      r2,r5,#0x81c
000032  2014              MOVS     r0,#0x14              ;451
000034  2157              MOVS     r1,#0x57              ;452
000036  4e18              LDR      r6,|L29.152|
000038  c203              STM      r2!,{r0,r1}
;;;455    	X_acc.acc_y_pose = SCALE_X_ACC_MIDDLE;
;;;456    
;;;457    	Y_acc.acc_x_pose = SCALE_X_START;
00003a  4f18              LDR      r7,|L29.156|
00003c  21d7              MOVS     r1,#0xd7              ;455
00003e  e9c60104          STRD     r0,r1,[r6,#0x10]
;;;458    	Y_acc.acc_y_pose = SCALE_Y_ACC_MIDDLE;
;;;459    
;;;460    	xyz_paint_flag = 0;
000042  e9c70104          STRD     r0,r1,[r7,#0x10]
000046  4816              LDR      r0,|L29.160|
000048  2400              MOVS     r4,#0
;;;461    	Z_acc.got_acc_num = 0;
00004a  6004              STR      r4,[r0,#0]  ; xyz_paint_flag
;;;462    	Z_acc.used_acc_num = 0;
;;;463    	tfilter_result.got_filter_acc_num = 0;
00004c  4815              LDR      r0,|L29.164|
00004e  602c              STR      r4,[r5,#0]            ;462  ; Z_acc
000050  606c              STR      r4,[r5,#4]  ; Z_acc
;;;464    	tfilter_result.used_filter_acc_num = 0;
000052  6004              STR      r4,[r0,#0]  ; tfilter_result
;;;465    	xyz_sys_init();
000054  6044              STR      r4,[r0,#4]  ; tfilter_result
000056  f7fffffe          BL       xyz_sys_init
;;;466    	in_fft = 0;
00005a  4813              LDR      r0,|L29.168|
00005c  7084              STRB     r4,[r0,#2]
;;;467    	sample_status = STOP;
00005e  7044              STRB     r4,[r0,#1]
;;;468    
;;;469    	Z_acc.acc_time = 1;
000060  2001              MOVS     r0,#1
;;;470    	X_acc.acc_time = 1;
000062  f8c5080c          STR      r0,[r5,#0x80c]  ; Z_acc
;;;471    	Y_acc.acc_time = 1;
000066  6030              STR      r0,[r6,#0]  ; X_acc
;;;472    
;;;473    	
;;;474    
;;;475    #ifndef WIN_SIM
;;;476    	MMA845X_TIM6_interrupt_conf(DISABLE);//除能采样中断
000068  6038              STR      r0,[r7,#0]  ; Y_acc
00006a  2000              MOVS     r0,#0
00006c  f7fffffe          BL       MMA845X_TIM6_interrupt_conf
;;;477    #endif
;;;478    
;;;479    	time_base_inital();
000070  f7fffffe          BL       time_base_inital
;;;480        current_handle = GUI_CreateDialogBox(_aDialogCreate, GUI_COUNTOF(_aDialogCreate), &_cbCallback, 0, 0, 0);
000074  2300              MOVS     r3,#0
000076  e9cd3300          STRD     r3,r3,[sp,#0]
00007a  461a              MOV      r2,r3
00007c  4a0b              LDR      r2,|L29.172|
00007e  210d              MOVS     r1,#0xd
000080  480b              LDR      r0,|L29.176|
000082  f7fffffe          BL       GUI_CreateDialogBox
000086  490b              LDR      r1,|L29.180|
000088  8008              STRH     r0,[r1,#0]
;;;481    }
00008a  e8bd81fc          POP      {r2-r8,pc}
;;;482    
                          ENDP

00008e  0000              DCW      0x0000
                  |L29.144|
                          DCD      current_interface
                  |L29.148|
                          DCD      Z_acc
                  |L29.152|
                          DCD      X_acc+0x80c
                  |L29.156|
                          DCD      Y_acc+0x80c
                  |L29.160|
                          DCD      xyz_paint_flag
                  |L29.164|
                          DCD      ||.bss||+0x79c
                  |L29.168|
                          DCD      ||.data||
                  |L29.172|
                          DCD      _cbCallback
                  |L29.176|
                          DCD      ||area_number.47||+0x28
                  |L29.180|
                          DCD      current_handle

                          AREA ||i.xyz_file_close||, CODE, READONLY, ALIGN=2

                  xyz_file_close PROC
;;;1209   
;;;1210   void xyz_file_close(void)
000000  b510              PUSH     {r4,lr}
;;;1211   {
;;;1212   	static int test = 0;
;;;1213   #ifndef WIN_SIM
;;;1214   	unsigned char res;
;;;1215   	unsigned int  bw;
;;;1216   
;;;1217   	res = f_close(&fsrc);
000002  4805              LDR      r0,|L30.24|
000004  f7fffffe          BL       f_close
;;;1218   if(res != 0) //FR_OK == 0
000008  b100              CBZ      r0,|L30.12|
                  |L30.10|
;;;1219   {
;;;1220   	while(1);
00000a  e7fe              B        |L30.10|
                  |L30.12|
;;;1221   }
;;;1222   	f_mount(0, NULL);
00000c  2100              MOVS     r1,#0
00000e  e8bd4010          POP      {r4,lr}
000012  4608              MOV      r0,r1
000014  f7ffbffe          B.W      f_mount
;;;1223   		
;;;1224   #endif
;;;1225   }
;;;1226   
                          ENDP

                  |L30.24|
                          DCD      fsrc

                          AREA ||i.xyz_file_data_save||, CODE, READONLY, ALIGN=2

                  xyz_file_data_save PROC
;;;1184   
;;;1185   int xyz_file_data_save(unsigned char *buf, unsigned int data_size)
000000  b5f8              PUSH     {r3-r7,lr}
;;;1186   {
000002  4606              MOV      r6,r0
;;;1187   #ifndef WIN_SIM
;;;1188   	unsigned char static res;
;;;1189   	unsigned int  bw;
;;;1190   	res = f_lseek(&fsrc, fsrc.fsize);
000004  4807              LDR      r0,|L31.36|
000006  460d              MOV      r5,r1                 ;1186
000008  68c1              LDR      r1,[r0,#0xc]  ; fsrc
00000a  f7fffffe          BL       f_lseek
00000e  4c06              LDR      r4,|L31.40|
;;;1191   	res = f_write(&fsrc,buf,data_size,&bw); //存储数据	
000010  466b              MOV      r3,sp
000012  462a              MOV      r2,r5
000014  7020              STRB     r0,[r4,#0]            ;1190
000016  4631              MOV      r1,r6
000018  4802              LDR      r0,|L31.36|
00001a  f7fffffe          BL       f_write
00001e  7020              STRB     r0,[r4,#0]
;;;1192   	return res;
;;;1193   #endif	
;;;1194   }
000020  bdf8              POP      {r3-r7,pc}
;;;1195   
                          ENDP

000022  0000              DCW      0x0000
                  |L31.36|
                          DCD      fsrc
                  |L31.40|
                          DCD      ||.data||

                          AREA ||i.xyz_file_init||, CODE, READONLY, ALIGN=2

                  xyz_file_init PROC
;;;1127   //文件的最后一条记录 记录最终一条记录的在文件中的偏移位置
;;;1128   int xyz_file_init(int status)
000000  b51c              PUSH     {r2-r4,lr}
;;;1129   {
;;;1130   
;;;1131   #ifndef WIN_SIM
;;;1132   	    unsigned int i, bw;
;;;1133   		unsigned char res;
;;;1134   	    unsigned int last_fragment_start;
;;;1135   		char men;
;;;1136   		if(status)
000002  b118              CBZ      r0,|L32.12|
;;;1137   		f_mount(0, &fs);									  //注册到文件系统0区	
000004  4916              LDR      r1,|L32.96|
000006  2000              MOVS     r0,#0
000008  f7fffffe          BL       f_mount
                  |L32.12|
;;;1138   		res = f_open(&fsrc, "xyz_a.ld",FA_OPEN_ALWAYS|FA_WRITE |FA_READ) ;
00000c  2213              MOVS     r2,#0x13
00000e  a115              ADR      r1,|L32.100|
000010  4817              LDR      r0,|L32.112|
000012  f7fffffe          BL       f_open
000016  4604              MOV      r4,r0
;;;1139   		f_sync(&fsrc);
000018  4815              LDR      r0,|L32.112|
00001a  f7fffffe          BL       f_sync
;;;1140   		 
;;;1141   		if(res)
00001e  b10c              CBZ      r4,|L32.36|
;;;1142   		{
;;;1143   			return res;
000020  4620              MOV      r0,r4
;;;1144   		}
;;;1145   		
;;;1146   		res = f_lseek(&fsrc,fsrc.fsize);  // 规定 最后数据 指向 本条记录在文件中所在的位置
;;;1147   		
;;;1148   		if(fsrc.fsize >  sizeof(xyz_file)+4)
;;;1149   		{
;;;1150   			res = f_lseek(&fsrc, fsrc.fsize-4);
;;;1151   			res = f_read(&fsrc,&last_fragment_start,sizeof(last_fragment_start),&bw);// 读取上一条记录的位置	
;;;1152   			res = f_lseek(&fsrc,last_fragment_start);
;;;1153   			res = f_read(&fsrc,&xyz_file,sizeof(xyz_file),&bw); //读出文件头
;;;1154   		}
;;;1155   		return 0;	
;;;1156   #endif
;;;1157   }
000022  bd1c              POP      {r2-r4,pc}
                  |L32.36|
000024  4c12              LDR      r4,|L32.112|
000026  4620              MOV      r0,r4                 ;1146
000028  68e1              LDR      r1,[r4,#0xc]          ;1146  ; fsrc
00002a  f7fffffe          BL       f_lseek
00002e  68e1              LDR      r1,[r4,#0xc]          ;1148  ; fsrc
000030  29bc              CMP      r1,#0xbc              ;1148
000032  d913              BLS      |L32.92|
000034  1f09              SUBS     r1,r1,#4              ;1150
000036  4620              MOV      r0,r4                 ;1150
000038  f7fffffe          BL       f_lseek
00003c  466b              MOV      r3,sp                 ;1151
00003e  2204              MOVS     r2,#4                 ;1151
000040  a901              ADD      r1,sp,#4              ;1151
000042  4620              MOV      r0,r4                 ;1151
000044  f7fffffe          BL       f_read
000048  4620              MOV      r0,r4                 ;1152
00004a  9901              LDR      r1,[sp,#4]            ;1152
00004c  f7fffffe          BL       f_lseek
000050  466b              MOV      r3,sp                 ;1153
000052  22b8              MOVS     r2,#0xb8              ;1153
000054  4907              LDR      r1,|L32.116|
000056  4620              MOV      r0,r4                 ;1153
000058  f7fffffe          BL       f_read
                  |L32.92|
00005c  2000              MOVS     r0,#0                 ;1155
00005e  bd1c              POP      {r2-r4,pc}
;;;1158   
                          ENDP

                  |L32.96|
                          DCD      ||fs||
                  |L32.100|
000064  78797a5f          DCB      "xyz_a.ld",0
000068  612e6c64
00006c  00      
00006d  00                DCB      0
00006e  00                DCB      0
00006f  00                DCB      0
                  |L32.112|
                          DCD      fsrc
                  |L32.116|
                          DCD      ||.bss||+0x1010

                          AREA ||i.xyz_file_save_end||, CODE, READONLY, ALIGN=2

                  xyz_file_save_end PROC
;;;1195   
;;;1196   void xyz_file_save_end(void)
000000  4808              LDR      r0,|L33.36|
;;;1197   {
000002  b508              PUSH     {r3,lr}
;;;1198   #ifndef WIN_SIM
;;;1199    	unsigned char res;
;;;1200   	unsigned int  bw;
;;;1201   	res = f_lseek(&fsrc, fsrc.fsize);
000004  68c1              LDR      r1,[r0,#0xc]  ; fsrc
000006  f7fffffe          BL       f_lseek
;;;1202   	res = f_write(&fsrc,&xyz_file.fragment_start ,4,&bw); //存储本条记录在文件中的其实位置
00000a  466b              MOV      r3,sp
00000c  2204              MOVS     r2,#4
00000e  4906              LDR      r1,|L33.40|
000010  4804              LDR      r0,|L33.36|
000012  f7fffffe          BL       f_write
;;;1203   	if(bw!=4 || (res != 0))	// FR_OK
000016  9900              LDR      r1,[sp,#0]
000018  2904              CMP      r1,#4
00001a  d101              BNE      |L33.32|
00001c  2800              CMP      r0,#0
00001e  d000              BEQ      |L33.34|
                  |L33.32|
;;;1204   	{
;;;1205   		while(1);
000020  e7fe              B        |L33.32|
                  |L33.34|
;;;1206   	}
;;;1207   #endif
;;;1208   }
000022  bd08              POP      {r3,pc}
;;;1209   
                          ENDP

                  |L33.36|
                          DCD      fsrc
                  |L33.40|
                          DCD      ||.bss||+0x10c4

                          AREA ||i.xyz_fir||, CODE, READONLY, ALIGN=2

                  xyz_fir PROC
;;;739    
;;;740    void xyz_fir(void)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;741    {
;;;742    	unsigned int i,j,k,flag,flag_in;
;;;743    	unsigned int times;
;;;744    	unsigned int get_data_lenth;
;;;745    	unsigned int in_addr,out_addr;
;;;746    	signed short mid_in_buf[2*FIR_BLOCK_SIZE];
;;;747    	signed short mid_out_buf[FIR_BLOCK_SIZE];
;;;748    	signed short *p_out,*p_in;
;;;749    	
;;;750    	in_fft = 1;
000004  4933              LDR      r1,|L34.212|
000006  b0b0              SUB      sp,sp,#0xc0           ;741
000008  2001              MOVS     r0,#1
00000a  7088              STRB     r0,[r1,#2]
;;;751    	get_data_lenth = abs(Z_acc.got_acc_num - Z_acc.used_acc_num);
00000c  4932              LDR      r1,|L34.216|
00000e  e9d10200          LDRD     r0,r2,[r1,#0]
000012  1a80              SUBS     r0,r0,r2
000014  d500              BPL      |L34.24|
000016  4240              RSBS     r0,r0,#0
                  |L34.24|
;;;752    	times = get_data_lenth/FIR_BLOCK_SIZE;
000018  0945              LSRS     r5,r0,#5
;;;753    	flag = 0;
00001a  2600              MOVS     r6,#0
;;;754    
;;;755    	for(i=0;i<times;i++)
00001c  4634              MOV      r4,r6
;;;756    	{
;;;757    		in_addr = (Z_acc.used_acc_num+FIR_BLOCK_SIZE*i)&(MMA845X_Z_ACC_BUF-1);//
;;;758    
;;;759    		if((in_addr+2*FIR_BLOCK_SIZE)> MMA845X_Z_ACC_BUF)
00001e  f44f6a80          MOV      r10,#0x400
;;;760    		{
;;;761    	 
;;;762    	 	for(j=0;j<2*FIR_BLOCK_SIZE;j++)
;;;763    	 	{
;;;764    	  	mid_in_buf[j]= Z_acc.acc_buf[(in_addr+j)&(MMA845X_Z_ACC_BUF-1)];
;;;765    	 	}
;;;766    		p_in = mid_in_buf;
;;;767    											   
;;;768    		}else{
;;;769    		p_in = &Z_acc.acc_buf[in_addr];
;;;770    		}
;;;771    
;;;772    		out_addr = (tfilter_result.got_filter_acc_num+FIR_BLOCK_SIZE*i)&(MMA845X_XYZ_FILTER_BUF-1);
000022  f8df80b8          LDR      r8,|L34.220|
000026  4689              MOV      r9,r1                 ;751
000028  e042              B        |L34.176|
                  |L34.42|
00002a  f8d90004          LDR      r0,[r9,#4]            ;757  ; Z_acc
00002e  46cc              MOV      r12,r9                ;757
000030  eb001044          ADD      r0,r0,r4,LSL #5       ;757
000034  f3c00109          UBFX     r1,r0,#0,#10          ;757
000038  f1010040          ADD      r0,r1,#0x40           ;759
00003c  4652              MOV      r2,r10                ;759
00003e  4550              CMP      r0,r10                ;759
000040  d90e              BLS      |L34.96|
000042  2000              MOVS     r0,#0                 ;762
000044  466b              MOV      r3,sp                 ;746
                  |L34.70|
000046  180f              ADDS     r7,r1,r0              ;764
000048  f3c70709          UBFX     r7,r7,#0,#10          ;764
00004c  eb0c0747          ADD      r7,r12,r7,LSL #1      ;764
000050  893f              LDRH     r7,[r7,#8]            ;764
000052  f8237010          STRH     r7,[r3,r0,LSL #1]     ;764
000056  1c40              ADDS     r0,r0,#1              ;762
000058  2840              CMP      r0,#0x40              ;762
00005a  d3f4              BCC      |L34.70|
00005c  4619              MOV      r1,r3                 ;766
00005e  e002              B        |L34.102|
                  |L34.96|
000060  eb090141          ADD      r1,r9,r1,LSL #1       ;769
000064  3108              ADDS     r1,r1,#8              ;769
                  |L34.102|
000066  f8d80000          LDR      r0,[r8,#0]  ; tfilter_result
00006a  eb001044          ADD      r0,r0,r4,LSL #5
00006e  f3c00709          UBFX     r7,r0,#0,#10
;;;773    
;;;774    		if((out_addr+FIR_BLOCK_SIZE)>MMA845X_XYZ_FILTER_BUF)
000072  f1070020          ADD      r0,r7,#0x20
000076  4550              CMP      r0,r10
000078  d902              BLS      |L34.128|
;;;775    		{
;;;776    		p_out =  mid_out_buf;
00007a  aa20              ADD      r2,sp,#0x80
;;;777    		flag = 1;
00007c  2601              MOVS     r6,#1
00007e  e002              B        |L34.134|
                  |L34.128|
;;;778    		}
;;;779    		else
;;;780    		{
;;;781    		p_out = &tfilter_result.filter_acc_buf[out_addr];
000080  eb080247          ADD      r2,r8,r7,LSL #1
000084  3208              ADDS     r2,r2,#8
                  |L34.134|
;;;782    		}
;;;783    
;;;784    		arm_fir_q15(&FIR_S,p_in,p_out,FIR_BLOCK_SIZE);
000086  2320              MOVS     r3,#0x20
000088  4815              LDR      r0,|L34.224|
00008a  f7fffffe          BL       arm_fir_q15
;;;785    
;;;786    		if(flag)
00008e  b176              CBZ      r6,|L34.174|
;;;787    		{
;;;788    			for(j=0;j<FIR_BLOCK_SIZE;j++)
000090  2000              MOVS     r0,#0
000092  f10d0c80          ADD      r12,sp,#0x80          ;747
000096  4642              MOV      r2,r8                 ;772
                  |L34.152|
;;;789    			{
;;;790    		  	tfilter_result.filter_acc_buf[(out_addr+j)&(MMA845X_XYZ_FILTER_BUF-1)] = mid_out_buf[j];
000098  183b              ADDS     r3,r7,r0
00009a  f83c1010          LDRH     r1,[r12,r0,LSL #1]
00009e  f3c30309          UBFX     r3,r3,#0,#10
0000a2  eb020343          ADD      r3,r2,r3,LSL #1
0000a6  1c40              ADDS     r0,r0,#1              ;788
0000a8  8119              STRH     r1,[r3,#8]
0000aa  2820              CMP      r0,#0x20              ;788
0000ac  d3f4              BCC      |L34.152|
                  |L34.174|
0000ae  1c64              ADDS     r4,r4,#1              ;755
                  |L34.176|
0000b0  42ac              CMP      r4,r5                 ;755
0000b2  d3ba              BCC      |L34.42|
;;;791    			}
;;;792    		}
;;;793    	}
;;;794    
;;;795    	Z_acc.used_acc_num = Z_acc.used_acc_num + times*FIR_BLOCK_SIZE;
0000b4  f8d91004          LDR      r1,[r9,#4]  ; Z_acc
0000b8  eb011145          ADD      r1,r1,r5,LSL #5
;;;796    	tfilter_result.got_filter_acc_num = tfilter_result.got_filter_acc_num + times*FIR_BLOCK_SIZE;
0000bc  f8c91004          STR      r1,[r9,#4]  ; Z_acc
0000c0  f8d81000          LDR      r1,[r8,#0]  ; tfilter_result
0000c4  eb011145          ADD      r1,r1,r5,LSL #5
0000c8  f8c81000          STR      r1,[r8,#0]  ; tfilter_result
;;;797    }
0000cc  b030              ADD      sp,sp,#0xc0
0000ce  e8bd87f0          POP      {r4-r10,pc}
;;;798    
                          ENDP

0000d2  0000              DCW      0x0000
                  |L34.212|
                          DCD      ||.data||
                  |L34.216|
                          DCD      Z_acc
                  |L34.220|
                          DCD      ||.bss||+0x79c
                  |L34.224|
                          DCD      ||.bss||+0xff4

                          AREA ||i.xyz_head_save||, CODE, READONLY, ALIGN=2

                  xyz_head_save PROC
;;;1160   
;;;1161   int xyz_head_save(void)
000000  b538              PUSH     {r3-r5,lr}
;;;1162   {
;;;1163    #ifndef WIN_SIM
;;;1164   	    unsigned int i, bw;
;;;1165   		unsigned char res;
;;;1166   		char men;
;;;1167   
;;;1168   		res = f_lseek(&fsrc, fsrc.fsize);
000002  4c09              LDR      r4,|L35.40|
000004  4620              MOV      r0,r4
000006  68e1              LDR      r1,[r4,#0xc]  ; fsrc
000008  f7fffffe          BL       f_lseek
;;;1169   		
;;;1170   		if(fsrc.fsize >  sizeof(xyz_file)+4)// 是否是第一次
00000c  68e0              LDR      r0,[r4,#0xc]  ; fsrc
;;;1171   		{
;;;1172   			xyz_file.fragment_start = fsrc.fsize; //记录本次的起始位置	
00000e  4907              LDR      r1,|L35.44|
000010  28bc              CMP      r0,#0xbc              ;1170
000012  d800              BHI      |L35.22|
;;;1173   		}
;;;1174   		else
;;;1175   		{
;;;1176   			xyz_file.fragment_start = 0; //记录本次的起始位置
000014  2000              MOVS     r0,#0
                  |L35.22|
;;;1177   		}
;;;1178   		res = f_write(&fsrc,&xyz_file,sizeof(xyz_file),&bw); //存储文件头
000016  f8c100b4          STR      r0,[r1,#0xb4]  ; xyz_file
00001a  466b              MOV      r3,sp
00001c  22b8              MOVS     r2,#0xb8
00001e  4903              LDR      r1,|L35.44|
000020  4801              LDR      r0,|L35.40|
000022  f7fffffe          BL       f_write
;;;1179   
;;;1180   		return res;
;;;1181   #endif	
;;;1182   	
;;;1183   }
000026  bd38              POP      {r3-r5,pc}
;;;1184   
                          ENDP

                  |L35.40|
                          DCD      fsrc
                  |L35.44|
                          DCD      ||.bss||+0x1010

                          AREA ||i.xyz_sys_init||, CODE, READONLY, ALIGN=1

                  xyz_sys_init PROC
;;;1017   
;;;1018   void xyz_sys_init(void)
000000  b508              PUSH     {r3,lr}
;;;1019   {
;;;1020      #ifndef WIN_SIM
;;;1021       NVIC_InitTypeDef NVIC_InitStructure;
;;;1022   
;;;1023   	NVIC_InitStructure.NVIC_IRQChannel = TIM6_IRQn;
000002  2036              MOVS     r0,#0x36
000004  f88d0000          STRB     r0,[sp,#0]
;;;1024     	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
000008  2000              MOVS     r0,#0
00000a  f88d0001          STRB     r0,[sp,#1]
;;;1025     	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 5;
00000e  2005              MOVS     r0,#5
000010  f88d0002          STRB     r0,[sp,#2]
;;;1026     	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
000014  2001              MOVS     r0,#1
000016  f88d0003          STRB     r0,[sp,#3]
;;;1027     	NVIC_Init(&NVIC_InitStructure);
00001a  4668              MOV      r0,sp
00001c  f7fffffe          BL       NVIC_Init
;;;1028   
;;;1029      #endif
;;;1030   }
000020  bd08              POP      {r3,pc}
;;;1031   
                          ENDP


                          AREA ||i.xyz_value_dir_to_graph||, CODE, READONLY, ALIGN=2

                  xyz_value_dir_to_graph PROC
;;;851    
;;;852    void xyz_value_dir_to_graph(MMA845X_struct* _acc,GUI_COLOR col,EXYZ xyz)
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;853    {
000004  4604              MOV      r4,r0
;;;854    	int i;
;;;855    	static signed short last_acc[3];
;;;856    	signed short temp;
;;;857    	signed short acc_buf[34];
;;;858    	signed short mid;
;;;859    	int          acc_nums = 0;
;;;860    	short nums;
;;;861    	int acc_nums_of_one_pixel;
;;;862    
;;;863    	GUI_COLOR  get_col;
;;;864    
;;;865    	acc_nums_of_one_pixel = tdisp_acc_struct.acc_nums_of_one_pixel;
000006  4831              LDR      r0,|L37.204|
000008  b091              SUB      sp,sp,#0x44           ;853
00000a  460f              MOV      r7,r1                 ;853
00000c  4690              MOV      r8,r2                 ;853
00000e  2500              MOVS     r5,#0                 ;859
;;;866    
;;;867    	get_col = GUI_GetColor();
000010  6806              LDR      r6,[r0,#0]  ; tdisp_acc_struct
000012  f7fffffe          BL       GUI_GetColor
000016  4681              MOV      r9,r0
;;;868    	GUI_SetColor(col);
000018  4638              MOV      r0,r7
00001a  f7fffffe          BL       GUI_SetColor
00001e  466f              MOV      r7,sp                 ;857
;;;869    		while((_acc->got_acc_num - _acc->used_acc_num >= acc_nums_of_one_pixel) && (acc_nums < 32))
000020  e01e              B        |L37.96|
                  |L37.34|
;;;870    		{
;;;871    			temp = _acc->acc_buf[_acc->used_acc_num & (MMA845X_XYZ_ACC_BUF - 1)];
000022  f3c00109          UBFX     r1,r0,#0,#10
000026  eb040141          ADD      r1,r4,r1,LSL #1
;;;872    			_acc->used_acc_num++;
00002a  1c40              ADDS     r0,r0,#1
00002c  f9b11008          LDRSH    r1,[r1,#8]            ;871
;;;873    
;;;874    			for(i=1; i<acc_nums_of_one_pixel; i++)
000030  6060              STR      r0,[r4,#4]
000032  2001              MOVS     r0,#1
000034  e00c              B        |L37.80|
                  |L37.54|
;;;875    			{
;;;876    				if(temp < _acc->acc_buf[_acc->used_acc_num & (MMA845X_XYZ_ACC_BUF - 1)])
000036  6863              LDR      r3,[r4,#4]
000038  f3c30209          UBFX     r2,r3,#0,#10
00003c  eb040242          ADD      r2,r4,r2,LSL #1
000040  f9b22008          LDRSH    r2,[r2,#8]
000044  428a              CMP      r2,r1
000046  dd00              BLE      |L37.74|
000048  4611              MOV      r1,r2
                  |L37.74|
;;;877    				{
;;;878    				   temp = _acc->acc_buf[_acc->used_acc_num & (MMA845X_XYZ_ACC_BUF - 1)];
;;;879    				}
;;;880    				_acc->used_acc_num++;
00004a  1c5b              ADDS     r3,r3,#1
00004c  1c40              ADDS     r0,r0,#1              ;874
00004e  6063              STR      r3,[r4,#4]            ;874
                  |L37.80|
000050  42b0              CMP      r0,r6                 ;874
000052  dbf0              BLT      |L37.54|
;;;881    			}
;;;882    			//acc_buf[acc_nums+1] = (temp - MMA845X_Z_DEFAULT)/128;  //acc的范围是 -8192 ―― +8191(2^13) 使用128个点表示 -2g ―― +2g
;;;883    			
;;;884    			// 0 - xxx - Y轴 
;;;885    			// temp>>2 - 实际的范围 
;;;886    			// temp>>7 - 使用128个点表示 -2g ―― +2g
;;;887    			
;;;888    			mid = temp>>9;  //acc的范围是 -8192 ―― +8191(2^13) 使用128个点表示 -2g ―― +2g
000054  1248              ASRS     r0,r1,#9
;;;889    			acc_buf[acc_nums+1] = 0-mid;
000056  4240              RSBS     r0,r0,#0
000058  eb070145          ADD      r1,r7,r5,LSL #1
;;;890    
;;;891    			acc_nums++;
00005c  1c6d              ADDS     r5,r5,#1
00005e  8048              STRH     r0,[r1,#2]            ;889
                  |L37.96|
000060  e9d41000          LDRD     r1,r0,[r4,#0]
000064  1a09              SUBS     r1,r1,r0              ;869
000066  42b1              CMP      r1,r6                 ;869
000068  d301              BCC      |L37.110|
00006a  2d20              CMP      r5,#0x20              ;869
00006c  dbd9              BLT      |L37.34|
                  |L37.110|
;;;892    		}
;;;893    		
;;;894    		if((acc_nums > 0)&&(_acc->acc_x_pose < (SCALE_X_START+SCALE_X_SIZE)))
00006e  f44f761b          MOV      r6,#0x26c
000072  2d00              CMP      r5,#0
000074  dd16              BLE      |L37.164|
000076  f8d4081c          LDR      r0,[r4,#0x81c]
00007a  42b0              CMP      r0,r6
00007c  d212              BCS      |L37.164|
;;;895    		{
;;;896    			acc_buf[0] = last_acc[xyz];
00007e  4814              LDR      r0,|L37.208|
000080  f8301018          LDRH     r1,[r0,r8,LSL #1]
000084  f8ad1000          STRH     r1,[sp,#0]
;;;897    			last_acc[xyz] = acc_buf[acc_nums - 1];
000088  eb070145          ADD      r1,r7,r5,LSL #1
00008c  f8312c02          LDRH     r2,[r1,#-2]
000090  f8202018          STRH     r2,[r0,r8,LSL #1]
000094  f604021c          ADD      r2,r4,#0x81c
;;;898    			GUI_DrawGraph(acc_buf,acc_nums+1,_acc->acc_x_pose - 1,_acc->acc_y_pose);
000098  1c69              ADDS     r1,r5,#1
00009a  ca0c              LDM      r2,{r2,r3}            ;897
00009c  1e52              SUBS     r2,r2,#1
00009e  4638              MOV      r0,r7
0000a0  f7fffffe          BL       GUI_DrawGraph
                  |L37.164|
;;;899    		}
;;;900    
;;;901    		_acc->acc_x_pose += acc_nums;
0000a4  f8d4081c          LDR      r0,[r4,#0x81c]
0000a8  4428              ADD      r0,r0,r5
;;;902    		acc_nums = 0;
;;;903    		if(_acc->acc_x_pose >= (SCALE_X_START+SCALE_X_SIZE))
0000aa  f8c4081c          STR      r0,[r4,#0x81c]
0000ae  42b0              CMP      r0,r6
0000b0  d305              BCC      |L37.190|
;;;904    		{
;;;905    		sample_status = STOP;
0000b2  4907              LDR      r1,|L37.208|
0000b4  2000              MOVS     r0,#0
0000b6  390c              SUBS     r1,r1,#0xc
0000b8  7048              STRB     r0,[r1,#1]
;;;906    		 xyz_file_save_end();
0000ba  f7fffffe          BL       xyz_file_save_end
                  |L37.190|
;;;907    		}
;;;908    		GUI_SetColor(get_col);
0000be  4648              MOV      r0,r9
0000c0  f7fffffe          BL       GUI_SetColor
;;;909    }
0000c4  b011              ADD      sp,sp,#0x44
0000c6  e8bd83f0          POP      {r4-r9,pc}
;;;910    
                          ENDP

0000ca  0000              DCW      0x0000
                  |L37.204|
                          DCD      ||.bss||+0x78c
                  |L37.208|
                          DCD      ||.data||+0xc

                          AREA ||i.xyz_value_fir_to_graph||, CODE, READONLY, ALIGN=2

                  xyz_value_fir_to_graph PROC
;;;801    //z -- 3
;;;802    void xyz_value_fir_to_graph(void)
000000  b5f0              PUSH     {r4-r7,lr}
;;;803    {
;;;804    	int i;
;;;805    	static signed short last_acc ;
;;;806    	signed short temp;
;;;807    	signed short acc_buf[34];//
;;;808    	int          acc_nums = 0;
;;;809    	
;;;810    	short nums;
;;;811    
;;;812    	int acc_nums_of_one_pixel;
;;;813    	acc_nums_of_one_pixel = tdisp_acc_struct.acc_nums_of_one_pixel;
000002  482b              LDR      r0,|L38.176|
000004  b091              SUB      sp,sp,#0x44           ;803
;;;814    
;;;815    		while((tfilter_result.got_filter_acc_num - tfilter_result.used_filter_acc_num >= acc_nums_of_one_pixel) && (acc_nums < 32))
;;;816    		{
;;;817    			temp = tfilter_result.filter_acc_buf[tfilter_result.used_filter_acc_num & (MMA845X_XYZ_FILTER_BUF-1)];
000006  f1000610          ADD      r6,r0,#0x10
00000a  2400              MOVS     r4,#0                 ;808
00000c  46ec              MOV      r12,sp                ;807
00000e  6803              LDR      r3,[r0,#0]            ;815  ; tdisp_acc_struct
;;;818    			tfilter_result.used_filter_acc_num++;
;;;819    			for(i=1; i<acc_nums_of_one_pixel; i++)
;;;820    			{
;;;821    				if(temp < tfilter_result.filter_acc_buf[tfilter_result.used_filter_acc_num  & (MMA845X_XYZ_FILTER_BUF-1)])
;;;822    				{
;;;823    					temp = tfilter_result.filter_acc_buf[tfilter_result.used_filter_acc_num  & (MMA845X_XYZ_FILTER_BUF-1)];
;;;824    				}
;;;825    				tfilter_result.used_filter_acc_num++;
;;;826    			}
;;;827    		//	acc_buf[acc_nums+1] = (temp - MMA845X_Z_DEFAULT)/128; //acc的范围是 -8192 ―― +8191(2^13) 使用128个点表示 -2g ―― +2g
;;;828    		//	acc_buf[acc_nums+1] = (temp - MMA845X_Z_DEFAULT)/32;  //acc的范围是 -8192 ―― +8191(2^13) 使用128个点表示 -2g ―― +2g, FIR 压缩严重 放大32倍
;;;829    		//  FIR 结果 缩小29倍！
;;;830    			acc_buf[acc_nums+1] = 0-((temp&0x8000)|((temp)>>4));  //acc的范围是 -8192 ―― +8191(2^13) 使用128个点表示 -2g ―― +2g
;;;831    			acc_nums++;
000010  6837              LDR      r7,[r6,#0]
000012  e021              B        |L38.88|
                  |L38.20|
000014  f3c10009          UBFX     r0,r1,#0,#10          ;817
000018  eb060040          ADD      r0,r6,r0,LSL #1       ;817
00001c  1c49              ADDS     r1,r1,#1              ;818
00001e  f9b00008          LDRSH    r0,[r0,#8]            ;817
000022  6071              STR      r1,[r6,#4]            ;819  ; tfilter_result
000024  2101              MOVS     r1,#1                 ;819
000026  e00c              B        |L38.66|
                  |L38.40|
000028  6875              LDR      r5,[r6,#4]            ;821  ; tfilter_result
00002a  f3c50209          UBFX     r2,r5,#0,#10          ;821
00002e  eb060242          ADD      r2,r6,r2,LSL #1       ;821
000032  f9b22008          LDRSH    r2,[r2,#8]            ;821
000036  4282              CMP      r2,r0                 ;821
000038  dd00              BLE      |L38.60|
00003a  4610              MOV      r0,r2                 ;821
                  |L38.60|
00003c  1c6d              ADDS     r5,r5,#1              ;825
00003e  1c49              ADDS     r1,r1,#1              ;819
000040  6075              STR      r5,[r6,#4]            ;819  ; tfilter_result
                  |L38.66|
000042  4299              CMP      r1,r3                 ;819
000044  dbf0              BLT      |L38.40|
000046  f4004100          AND      r1,r0,#0x8000         ;830
00004a  ea411020          ORR      r0,r1,r0,ASR #4       ;830
00004e  4240              RSBS     r0,r0,#0              ;830
000050  eb0c0144          ADD      r1,r12,r4,LSL #1      ;830
000054  1c64              ADDS     r4,r4,#1
000056  8048              STRH     r0,[r1,#2]            ;830
                  |L38.88|
000058  6871              LDR      r1,[r6,#4]            ;815  ; tfilter_result
00005a  1a78              SUBS     r0,r7,r1              ;815
00005c  4298              CMP      r0,r3                 ;815
00005e  d301              BCC      |L38.100|
000060  2c20              CMP      r4,#0x20              ;815
000062  dbd7              BLT      |L38.20|
                  |L38.100|
;;;832    		}
;;;833    		
;;;834    		if((acc_nums > 0)&&(Z_acc.acc_x_pose < (SCALE_X_START+SCALE_X_SIZE)))
000064  4d13              LDR      r5,|L38.180|
;;;835    		{
;;;836    			acc_buf[0] = last_acc;
000066  4e14              LDR      r6,|L38.184|
000068  f44f771b          MOV      r7,#0x26c             ;834
00006c  2c00              CMP      r4,#0                 ;834
00006e  dd12              BLE      |L38.150|
000070  f8d5281c          LDR      r2,[r5,#0x81c]        ;834  ; Z_acc
000074  42ba              CMP      r2,r7                 ;834
000076  d20e              BCS      |L38.150|
000078  88b0              LDRH     r0,[r6,#4]  ; last_acc
00007a  f8ad0000          STRH     r0,[sp,#0]
;;;837    			last_acc = acc_buf[acc_nums-1];
00007e  eb0c0044          ADD      r0,r12,r4,LSL #1
;;;838    			GUI_DrawGraph(acc_buf,acc_nums+1, Z_acc.acc_x_pose-1,Z_acc.acc_y_pose);
000082  1e52              SUBS     r2,r2,#1
000084  f8300c02          LDRH     r0,[r0,#-2]           ;837
000088  80b0              STRH     r0,[r6,#4]            ;837
00008a  1c61              ADDS     r1,r4,#1
00008c  4660              MOV      r0,r12
00008e  f8d53820          LDR      r3,[r5,#0x820]  ; Z_acc
000092  f7fffffe          BL       GUI_DrawGraph
                  |L38.150|
;;;839    		}
;;;840    		
;;;841    		Z_acc.acc_x_pose += acc_nums;
000096  f8d5081c          LDR      r0,[r5,#0x81c]  ; Z_acc
00009a  4420              ADD      r0,r0,r4
;;;842    		acc_nums = 0;
;;;843    		if(Z_acc.acc_x_pose  >= (SCALE_X_START+SCALE_X_SIZE))
00009c  f8c5081c          STR      r0,[r5,#0x81c]  ; Z_acc
0000a0  42b8              CMP      r0,r7
0000a2  d303              BCC      |L38.172|
;;;844    		{
;;;845    			sample_status = STOP;
0000a4  2000              MOVS     r0,#0
0000a6  7070              STRB     r0,[r6,#1]
;;;846    		    xyz_file_save_end();
0000a8  f7fffffe          BL       xyz_file_save_end
                  |L38.172|
;;;847    		}
;;;848    }
0000ac  b011              ADD      sp,sp,#0x44
0000ae  bdf0              POP      {r4-r7,pc}
;;;849    
                          ENDP

                  |L38.176|
                          DCD      ||.bss||+0x78c
                  |L38.180|
                          DCD      Z_acc
                  |L38.184|
                          DCD      ||.data||

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  time_base
                          %        1932
                  tdisp_acc_struct
                          %        16
                  tfilter_result
                          %        2056
                  FIR_State
                          %        80
                  FIR_S
                          %        12
                  fft_S
                          %        16
                  xyz_file
                          %        184

                          AREA ||area_number.41||, DATA, NOINIT, ALIGN=2

                          EXPORTAS ||area_number.41||, ||.bss||
                  txyz_restult
                          %        36

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  Colors
                          DCD      0x00ffffff
                          DCD      0x000000aa

                          AREA ||area_number.44||, DATA, READONLY, ALIGN=2

                          EXPORTAS ||area_number.44||, ||.constdata||
                  Pal
                          DCD      0x00000002
000004  01000000          DCB      0x01,0x00,0x00,0x00
                          DCD      Colors

                          AREA ||area_number.45||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.45||, ||.constdata||
                  _arrow_right
000000  04000600          DCB      0x04,0x00,0x06,0x00
000004  07000780          DCB      0x07,0x00,0x07,0x80
000008  07c0ffe0          DCB      0x07,0xc0,0xff,0xe0
00000c  fff0fff8          DCB      0xff,0xf0,0xff,0xf8
000010  fffcfffe          DCB      0xff,0xfc,0xff,0xfe
000014  fffffffe          DCB      0xff,0xff,0xff,0xfe
000018  fffcfff8          DCB      0xff,0xfc,0xff,0xf8
00001c  fff0ffe0          DCB      0xff,0xf0,0xff,0xe0
000020  07c00780          DCB      0x07,0xc0,0x07,0x80
000024  07000600          DCB      0x07,0x00,0x06,0x00
000028  0400              DCB      0x04,0x00

                          AREA ||area_number.46||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.46||, ||.constdata||
                  _arrow_left
000000  00200060          DCB      0x00,0x20,0x00,0x60
000004  00e001e0          DCB      0x00,0xe0,0x01,0xe0
000008  03e007ff          DCB      0x03,0xe0,0x07,0xff
00000c  0fff1fff          DCB      0x0f,0xff,0x1f,0xff
000010  3fff7fff          DCB      0x3f,0xff,0x7f,0xff
000014  ffff7fff          DCB      0xff,0xff,0x7f,0xff
000018  3fff1fff          DCB      0x3f,0xff,0x1f,0xff
00001c  0fff07ff          DCB      0x0f,0xff,0x07,0xff
000020  03e001e0          DCB      0x03,0xe0,0x01,0xe0
000024  00e00060          DCB      0x00,0xe0,0x00,0x60
000028  0020              DCB      0x00,0x20

                          AREA ||area_number.47||, DATA, READONLY, ALIGN=2

                          EXPORTAS ||area_number.47||, ||.constdata||
                  arrow_right
000000  00100015          DCW      0x0010,0x0015
000004  00020001          DCW      0x0002,0x0001
                          DCD      _arrow_right
                          DCD      Pal
                          DCD      0x00000000
                  arrow_left
000014  00100015          DCW      0x0010,0x0015
000018  00020001          DCW      0x0002,0x0001
                          DCD      _arrow_left
                          DCD      Pal
                          DCD      0x00000000
                  _aDialogCreate
                          DCD      FRAMEWIN_CreateIndirect
                          DCD      ||.conststring||
000030  000002ca          DCW      0x0000,0x02ca
000034  00000056          DCW      0x0000,0x0056
000038  01e00000          DCW      0x01e0,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x8
000048  08010001          DCW      0x0801,0x0001
00004c  00060050          DCW      0x0006,0x0050
000050  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x11
000060  08020001          DCW      0x0802,0x0001
000064  002e0050          DCW      0x002e,0x0050
000068  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x17
000078  08030001          DCW      0x0803,0x0001
00007c  00560050          DCW      0x0056,0x0050
000080  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x1c
000090  08040001          DCW      0x0804,0x0001
000094  007e0050          DCW      0x007e,0x0050
000098  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x21
0000a8  08050001          DCW      0x0805,0x0001
0000ac  00a60050          DCW      0x00a6,0x0050
0000b0  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x27
0000c0  08060001          DCW      0x0806,0x0001
0000c4  00d30050          DCW      0x00d3,0x0050
0000c8  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x2f
0000d8  08080001          DCW      0x0808,0x0001
0000dc  01410050          DCW      0x0141,0x0050
0000e0  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x36
0000f0  08090001          DCW      0x0809,0x0001
0000f4  01690050          DCW      0x0169,0x0050
0000f8  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x3b
000108  080a0001          DCW      0x080a,0x0001
00010c  01910050          DCW      0x0191,0x0050
000110  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x41
000120  080b0001          DCW      0x080b,0x0001
000124  01b90050          DCW      0x01b9,0x0050
000128  001e0000          DCW      0x001e,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      0x00000000
000138  080c0001          DCW      0x080c,0x0001
00013c  01060022          DCW      0x0106,0x0022
000140  00290000          DCW      0x0029,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      0x00000000
000150  080d002f          DCW      0x080d,0x002f
000154  01060022          DCW      0x0106,0x0022
000158  00290000          DCW      0x0029,0x0000
                          DCD      0x00000000

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=0

000000  43617074          DCB      "Caption",0
000004  696f6e00
000008  b2cecafd          DCB      178,206,202,253,201,232,214,195,0
00000c  c9e8d6c3
000010  00      
000011  53746172          DCB      "Start",0
000015  7400    
000017  53746f70          DCB      "Stop",0
00001b  00      
00001c  4175746f          DCB      "Auto",0
000020  00      
000021  5a5f4646          DCB      "Z_FFT",0
000025  5400    
000027  cab1bbf9          DCB      202,177,187,249,"A/B",0
00002b  412f4200
00002f  cfd4cabe          DCB      207,212,202,190,"AB",0
000033  414200  
000036  bbb9d4ad          DCB      187,185,212,173,0
00003a  00      
00003b  5072696e          DCB      "Print",0
00003f  7400    
000041  53617665          DCB      "Save",0
000045  00      

                          AREA ||.data||, DATA, ALIGN=2

                  ||res||
000000  00                DCB      0x00
                  sample_status
000001  00                DCB      0x00
                  in_fft
000002  0000              DCB      0x00,0x00
                  last_acc
000004  00000000          DCB      0x00,0x00,0x00,0x00
                  tick_ab
                          DCD      0x00000002
                  |symbol_number.128|
                          DCD      0x00000000
000010  0000              DCB      0x00,0x00
                  fir_coeffs
000012  0014              DCW      0x0014
000014  004200aa          DCW      0x0042,0x00aa
000018  00fa00fa          DCW      0x00fa,0x00fa
00001c  00aa0042          DCW      0x00aa,0x0042
000020  00140013          DCW      0x0014,0x0013
000024  004100aa          DCW      0x0041,0x00aa
000028  01020102          DCW      0x0102,0x0102
00002c  00aa0041          DCW      0x00aa,0x0041
000030  00130010          DCW      0x0013,0x0010
000034  003c00aa          DCW      0x003c,0x00aa
000038  010a010a          DCW      0x010a,0x010a
00003c  00aa003c          DCW      0x00aa,0x003c
000040  00100004          DCW      0x0010,0x0004
000044  002700a5          DCW      0x0027,0x00a5
000048  01300130          DCW      0x0130,0x0130
00004c  00a50027          DCW      0x00a5,0x0027
000050  0004fffb          DCW      0x0004,0xfffb
000054  ffe90063          DCW      0xffe9,0x0063
000058  01ba01ba          DCW      0x01ba,0x01ba
00005c  0063ffe9          DCW      0x0063,0xffe9
000060  fffb              DCW      0xfffb

                          AREA ||area_number.50||, DATA, ALIGN=0

                          EXPORTAS ||area_number.50||, ||.data||
                  get_ave
000000  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "Source\\gui_app\\XYZ.c"
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___5_XYZ_c_db50e561____REV16|
#line 114 "..\\..\\..\\STM32F4\\STM32F4xx_DSP_StdPeriph_Lib_V1.0.1\\Libraries\\CMSIS\\Include\\core_cmInstr.h"
|__asm___5_XYZ_c_db50e561____REV16| PROC
#line 115

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___5_XYZ_c_db50e561____REVSH|
#line 128
|__asm___5_XYZ_c_db50e561____REVSH| PROC
#line 129

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
